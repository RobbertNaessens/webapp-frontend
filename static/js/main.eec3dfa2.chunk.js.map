{"version":3,"sources":["api/items.js","contexts/ItemsProvider.js","api/types.js","contexts/TypesProvider.js","api/orders.js","contexts/OrdersProvider.jsx","components/Item.jsx","pages/ItemPage.jsx","pages/Welkom.jsx","components/ItemList.jsx","components/LabelInput.jsx","components/LabelSelect.jsx","firebase/index.js","components/ItemForm.jsx","pages/NotFoundPage.jsx","pages/WinkelkarPage.jsx","pages/LogInPage.jsx","components/PrivateRoute.jsx","pages/BestellingPage.jsx","components/Navigatie.jsx","App.jsx","reportWebVitals.js","index.js","api/index.js","contexts/AuthProvider.jsx","api/users.js"],"names":["getAllItems","a","axios","get","data","getAllItemsOfType","pad","getItemWithId","id","saveItem","title","imagesrc","typeId","description","price","method","url","deleteItem","delete","ItemsContext","createContext","ItemsProvider","children","useState","items","setItems","loading","setLoading","error","setError","currentItem","setCurrentItem","authReady","useSession","ready","refreshItems","useCallback","itemsApi","getItemsOfType","useEffect","length","createOrUpdateItem","changedItem","console","log","setItemToUpdate","find","t","value","useMemo","Provider","getAllTypes","saveType","deleteType","TypesContext","TypesProvider","currentType","setCurrentType","types","setTypes","refreshTypes","typesApi","createOrUpdateType","changedType","getAllOrders","saveOrder","userId","getOrderById","getOrderByUserId","deleteOrder","OrdersContext","useOrders","useContext","OrdersProvider","allOrders","setAllOrders","itemsInOrder","setItemsInOrder","user","currentOrder","setCurrentOrder","refreshOrders","ordersApi","getOrderWithId","getOrderWithUserId","createOrUpdateOrder","changedOrder","setOrderToUpdate","Item","type","pathname","useLocation","isAuthed","winkelkarItems","handleRemove","swal","text","icon","buttons","dangerMode","then","willDelete","addToCart","winkelkarItem","push","cartOrder","JSON","stringify","data-cy","className","src","alt","onClick","ItemPage","getItems","substring","message","map","item","Welkom","ItemList","LabelInput","label","defaultValue","validation","rest","useFormContext","register","errors","htmlFor","charAt","toUpperCase","slice","placeholder","name","LabelSelect","options","firebaseConfig","apiKey","process","REACT_APP_FIREBASE_API_KEY","authDomain","config","firebase_auth_domain","projectId","firebase_project_id","storageBucket","firebase_storage_bucket","messagingSenderId","firebase_messaging_sender_id","appId","firebase_app_id","app","initializeApp","storage","getStorage","validationRules","required","image","valueAsNumber","min","max","ItemForm","laatsteUrl","history","useHistory","useForm","handleSubmit","reset","formState","setValue","progress","setProgress","setUrl","optionTypes","Object","keys","constructor","onSubmit","handleUpload","storageRef","ref","uploadTask","uploadBytesResumable","on","snapshot","Math","round","bytesTransferred","totalBytes","getDownloadURL","downloadURL","document","querySelector","onChange","e","target","files","for","step","NotFoundPage","WinkelkarPage","aantal","setAantal","retrieveItems","VerwijderItem","index","splice","berekenTotaal","reduce","acc","Number","toFixed","to","LogInPage","login","useLogin","registerUser","useRegister","methods","methods2","handleSubmit2","reset2","register2","getValues2","getValues","replace","handleLogin","email","password","handleRegister","handleCancel","handleCancel2","disabled","classList","toggle","validate","validName","naam","reg","RegExp","test","notIdentical","PrivateRoute","role","hasRole","canShowRoute","from","adres","gemeente","postcode","EMAIL_SERVICE_TOKEN","email_service_token","EMAIL_TEMPLATE_TOKEN","email_template_token","EMAIL_USER_TOKEN","email_user_token","BestellingPage","Map","testMap","setMap","arrayUniqueById","setArr","reduceOrders","hulp","testMap2","forEach","set","values","send","from_name","to_name","send_to","reply_to","response","status","catch","err","willOrder","content","Navigate","logout","useLogout","handleLogout","activeStyle","backgroundColor","exact","path","App","AuthProvider","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById","axiosRoot","create","baseURL","setAuthToken","token","defaults","headers","JWT_TOKEN_KEY","token_key","AuthContext","parseJwt","base64Url","split","jsonPayload","Buffer","toString","parse","parseExp","exp","isNaN","Date","useAuth","Boolean","setReady","localStorage","getItem","setToken","setUser","setSession","expiry","stillValid","setItem","removeItem","api","usersApi","roles","includes","post","getUserById"],"mappings":"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","file":"static/js/main.eec3dfa2.chunk.js","sourcesContent":["import { axios } from \".\";\n\nexport const getAllItems = async () => {\n  const { data } = await axios.get(`items`);\n  return data;\n};\n\nexport const getAllItemsOfType = async (pad) => {\n  const { data } = await axios.get(`${pad}`);\n  return data;\n};\n\nexport const getItemWithId = async (id) => {\n  const { data } = await axios.get(`items/${id}`);\n  return data;\n};\n\nexport const saveItem = async ({\n  id,\n  title,\n  imagesrc,\n  typeId,\n  description,\n  price,\n}) => {\n  const { data } = await axios({\n    method: id ? \"put\" : \"post\",\n    url: `items/${id ?? \"\"}`,\n    data: {\n      title,\n      imagesrc,\n      typeId,\n      description,\n      price,\n    },\n  });\n  return data;\n};\n\nexport const deleteItem = async (id) => {\n  await axios.delete(`items/${id}`);\n};\n","import {\n  createContext,\n  useState,\n  useEffect,\n  useCallback,\n  useMemo,\n  useContext,\n} from \"react\";\nimport * as itemsApi from \"../api/items\";\nimport { useSession } from \"./AuthProvider\";\n\n//Context die alles in verband met items beheert\n//Items ophalen, verwijderen, updaten, ...\n\nexport const ItemsContext = createContext();\nexport const useItems = () => useContext(ItemsContext);\n\nexport const ItemsProvider = ({ children }) => {\n  const [items, setItems] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState();\n  const [currentItem, setCurrentItem] = useState({});\n  const { ready: authReady } = useSession();\n\n  const refreshItems = useCallback(async () => {\n    try {\n      setError();\n      setLoading(true);\n      const data = await itemsApi.getAllItems();\n      setItems(data.data);\n    } catch (error) {\n      setError(error);\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  const getItemsOfType = useCallback(async (pad) => {\n    try {\n      setError();\n      setLoading(true);\n      const data = await itemsApi.getAllItemsOfType(pad);\n      return data.data;\n    } catch (error) {\n      setError(error);\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  const getItemWithId = useCallback(async (id) => {\n    try {\n      setError();\n      setLoading(true);\n      const data = await itemsApi.getItemWithId(id);\n      return data.data;\n    } catch (error) {\n      setError(error);\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  useEffect(() => {\n    if (authReady && items?.length === 0) {\n      refreshItems();\n    }\n  }, [authReady, items, refreshItems]);\n\n  const createOrUpdateItem = useCallback(\n    async ({ id, title, imagesrc, typeId, description, price }) => {\n      setError();\n      setLoading(true);\n      try {\n        const changedItem = await itemsApi.saveItem({\n          id,\n          title,\n          imagesrc,\n          typeId,\n          description,\n          price,\n        });\n        await refreshItems();\n        return changedItem;\n      } catch (error) {\n        console.log(error);\n        throw error;\n      } finally {\n        setLoading(false);\n      }\n    },\n    [refreshItems]\n  );\n\n  const deleteItem = useCallback(\n    async (id) => {\n      try {\n        setError();\n        setLoading(true);\n        await itemsApi.deleteItem(id);\n        refreshItems();\n      } catch (error) {\n        console.log(error);\n        throw error;\n      } finally {\n        setLoading(false);\n      }\n    },\n    [refreshItems]\n  );\n\n  const setItemToUpdate = useCallback(\n    (id) => {\n      setCurrentItem(id === null ? {} : items.find((t) => t.id === id));\n    },\n    [items]\n  );\n\n  const value = useMemo(\n    () => ({\n      items,\n      error,\n      loading,\n      currentItem,\n      createOrUpdateItem,\n      deleteItem,\n      setItemToUpdate,\n      getItemsOfType,\n      getItemWithId,\n    }),\n    [\n      items,\n      error,\n      loading,\n      currentItem,\n      createOrUpdateItem,\n      deleteItem,\n      setItemToUpdate,\n      getItemsOfType,\n      getItemWithId,\n    ]\n  );\n\n  return (\n    <ItemsContext.Provider value={value}>{children}</ItemsContext.Provider>\n  );\n};\n","import { axios } from \".\";\n\nexport const getAllTypes = async () => {\n  const { data } = await axios.get(`types`);\n  return data;\n};\n\nexport const saveType = async ({ id, title }) => {\n  const { data } = await axios({\n    method: id ? \"put\" : \"post\",\n    url: `items/${id ?? \"\"}`,\n    data: {\n      title,\n    },\n  });\n  return data;\n};\n\nexport const deleteType = async (id) => {\n  await axios.delete(`type/${id}`);\n};\n","import {\n  createContext,\n  useState,\n  useEffect,\n  useCallback,\n  useContext,\n  useMemo,\n} from \"react\";\nimport * as typesApi from \"../api/types\";\n\n//Context die alles in verband met types beheert\n//Types ophalen, verwijderen, updaten, ...\n//Het aanmaken en updaten van items wordt momenteel nog niet gebruikt, maar is wel\n//al geschreven met het oog op mogelijk gebruik later\n\nexport const TypesContext = createContext();\nexport const useTypes = () => useContext(TypesContext);\n\nexport const TypesProvider = ({ children }) => {\n  const [currentType, setCurrentType] = useState({});\n  const [error, setError] = useState();\n  const [loading, setLoading] = useState(false);\n  const [types, setTypes] = useState([]);\n\n  const refreshTypes = useCallback(async () => {\n    try {\n      setError();\n      setLoading(true);\n      const data = await typesApi.getAllTypes();\n      setTypes(data.data);\n      return data.data;\n    } catch (error) {\n      setError(error);\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  useEffect(() => {\n    if (types?.length === 0) {\n      refreshTypes();\n    }\n  }, [refreshTypes, types]);\n\n  const createOrUpdateType = useCallback(\n    async ({ id, title }) => {\n      setError();\n      setLoading(true);\n      try {\n        const changedType = await typesApi.saveType({\n          id,\n          title,\n        });\n        await refreshTypes();\n        return changedType;\n      } catch (error) {\n        console.error(error);\n        throw error;\n      } finally {\n        setLoading(false);\n      }\n    },\n    [refreshTypes]\n  );\n  const deleteType = useCallback(\n    async (id) => {\n      setLoading(true);\n      setError();\n      try {\n        await typesApi.deleteType(id);\n        refreshTypes();\n      } catch (error) {\n        console.error(error);\n        throw error;\n      } finally {\n        setLoading(false);\n      }\n    },\n    [refreshTypes]\n  );\n\n  const value = useMemo(\n    () => ({\n      currentType,\n      setCurrentType,\n      types,\n      error,\n      loading,\n      deleteType,\n      createOrUpdateType,\n    }),\n    [\n      types,\n      error,\n      loading,\n      setCurrentType,\n      deleteType,\n      currentType,\n      createOrUpdateType,\n    ]\n  );\n\n  return (\n    <TypesContext.Provider value={value}>{children}</TypesContext.Provider>\n  );\n};\n","import { axios } from \".\";\n\nexport const getAllOrders = async () => {\n  const { data } = await axios.get(`orders`);\n  return data;\n};\n\nexport const saveOrder = async ({ id, userId, items }) => {\n  const { data } = await axios({\n    method: id ? \"put\" : \"post\",\n    url: `orders/${id ?? \"\"}`,\n    data: {\n      userId,\n      items,\n    },\n  });\n  return data;\n};\n\nexport const getOrderById = async (id) => {\n  const { data } = await axios.get(`orders/${id}`);\n  return data;\n};\n\nexport const getOrderByUserId = async (id) => {\n  const { data } = await axios.get(`orders/user/${id}`);\n  return data;\n};\n\nexport const deleteOrder = async (id) => {\n  await axios.delete(`orders/${id}`);\n};\n","import {\n  createContext,\n  useState,\n  useEffect,\n  useCallback,\n  useMemo,\n  useContext,\n} from \"react\";\nimport * as ordersApi from \"../api/orders\";\nimport { useSession } from \"./AuthProvider\";\n\n//Context die alles in verband met orders beheert\n//Orders ophalen, verwijderen, updaten, ...\n\nexport const OrdersContext = createContext();\nexport const useOrders = () => useContext(OrdersContext);\n\nexport const OrdersProvider = ({ children }) => {\n  const [allOrders, setAllOrders] = useState([]);\n  const [itemsInOrder, setItemsInOrder] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState();\n  const { ready: authReady, user } = useSession();\n  const [currentOrder, setCurrentOrder] = useState({});\n\n  const refreshOrders = useCallback(async () => {\n    try {\n      setError();\n      setLoading(true);\n      const data = await ordersApi.getAllOrders();\n      setAllOrders(data);\n    } catch (error) {\n      setError(error);\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  const getOrderWithId = useCallback(async (id) => {\n    try {\n      setError();\n      setLoading(true);\n      const data = await ordersApi.getOrderById(id);\n      return data.data;\n    } catch (error) {\n      setError(error);\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  const getOrderWithUserId = useCallback(async (id) => {\n    try {\n      setError();\n      setLoading(true);\n      const data = await ordersApi.getOrderByUserId(id);\n      setItemsInOrder(data[0].items);\n      setCurrentOrder(data[0]);\n      return data[0];\n    } catch (error) {\n      setError(error);\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  const createOrUpdateOrder = useCallback(async ({ id, userId, items }) => {\n    setError();\n    setLoading(true);\n    try {\n      const changedOrder = await ordersApi.saveOrder({\n        id,\n        userId,\n        items,\n      });\n      return changedOrder;\n    } catch (error) {\n      console.log(error);\n      throw error;\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  const deleteOrder = useCallback(async (id) => {\n    try {\n      setError();\n      setLoading(true);\n      await ordersApi.deleteOrder(id);\n    } catch (error) {\n      console.log(error);\n      throw error;\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  useEffect(() => {\n    if (user && authReady && itemsInOrder?.length === 0) {\n      refreshOrders();\n      getOrderWithUserId(user.id);\n    }\n  }, [user, authReady, itemsInOrder, getOrderWithUserId, refreshOrders]);\n\n  const setOrderToUpdate = useCallback(\n    (id) => {\n      setCurrentOrder(id === null ? {} : allOrders.find((t) => t.id === id));\n    },\n    [allOrders, setCurrentOrder]\n  );\n\n  const value = useMemo(\n    () => ({\n      allOrders,\n      itemsInOrder,\n      error,\n      loading,\n      currentOrder,\n      createOrUpdateOrder,\n      deleteOrder,\n      setOrderToUpdate,\n      getOrderWithUserId,\n      getOrderWithId,\n    }),\n    [\n      allOrders,\n      itemsInOrder,\n      error,\n      loading,\n      currentOrder,\n      createOrUpdateOrder,\n      deleteOrder,\n      setOrderToUpdate,\n      getOrderWithUserId,\n      getOrderWithId,\n    ]\n  );\n\n  return (\n    <OrdersContext.Provider value={value}>{children}</OrdersContext.Provider>\n  );\n};\n","import { FaTrash, FaShoppingCart } from \"react-icons/fa\";\nimport { ItemsContext } from \"../contexts/ItemsProvider\";\nimport { useOrders } from \"../contexts/OrdersProvider\";\nimport { useContext, useCallback } from \"react\";\nimport { useLocation } from \"react-router\";\nimport { useSession } from \"../contexts/AuthProvider\";\nimport \"../css/item.css\";\nimport { getItemWithId } from \"../api/items\";\nimport swal from \"sweetalert\";\n\n//Geeft een visuele voorstelling van het item.\n\nexport default function Item({\n  id,\n  title,\n  imagesrc,\n  type,\n  description,\n  price,\n}) {\n  const { deleteItem } = useContext(ItemsContext);\n\n  const { createOrUpdateOrder, getOrderWithUserId, itemsInOrder } = useOrders();\n\n  const { pathname } = useLocation();\n\n  const { isAuthed, user } = useSession();\n\n  let winkelkarItems = itemsInOrder;\n\n  const handleRemove = useCallback(async () => {\n    //Items verwijderen (adminrechten nodig)\n\n    swal({\n      title: \"Ben je zeker?\",\n      text: \"Dit item zal definitief verwijderd worden!\",\n      icon: \"warning\",\n      buttons: true,\n      dangerMode: true,\n    }).then(async (willDelete) => {\n      if (willDelete) {\n        try {\n          await deleteItem(id);\n          swal(\"Item is succesvol verwijderd\", {\n            icon: \"success\",\n          });\n        } catch (error) {\n          console.error(error);\n        }\n      }\n    });\n  }, [deleteItem, id]);\n\n  const addToCart = useCallback(async () => {\n    //Item toevoegen aan de winkelwagen\n\n    if (isAuthed) {\n      try {\n        swal(\"Toegevoegd!\", \"Item is toegevoegd aan uw winkelkar\", \"success\");\n        const winkelkarItem = await getItemWithId(id);\n        winkelkarItems.push(winkelkarItem);\n        const cartOrder = await getOrderWithUserId(user.id);\n        await createOrUpdateOrder({\n          id: cartOrder?.id,\n          userId: user.id,\n          items: JSON.stringify(winkelkarItems),\n        });\n      } catch (error) {\n        console.error(error);\n      }\n    } else {\n      swal(\n        \"Waarschuwing\",\n        \"U moet ingelogd zijn om items toe te voegen aan uw winkelkar.\",\n        \"warning\"\n      );\n    }\n  }, [isAuthed, getItemWithId, createOrUpdateOrder]);\n  return (\n    //html om item te tonen\n    <>\n      <div id=\"itemData\" data-cy=\"item\">\n        <img\n          className=\"card-img-top image-thumbnail itemImage\"\n          src={imagesrc}\n          alt={title}\n          id=\"itemImage\"\n        />\n\n        <div className=\"card-body\">\n          <div id=\"category\">{type.title}</div>\n          <div className=\"card-title\" id=\"itemName\">\n            <h3 data-cy=\"item_title\">{title}</h3>\n          </div>\n          <div className=\"card-text\" id=\"itemDescription\">\n            <p data-cy=\"item_description\">{description}</p>\n          </div>\n        </div>\n        <div className=\"card-footer\">\n          <div className=\"wcf-left\">\n            {pathname !== \"/items\" ? (\n              <button onClick={addToCart} data-cy=\"add_cartitem_button\">\n                <FaShoppingCart />\n              </button>\n            ) : (\n              \"\"\n            )}\n            {pathname === \"/items\" ? (\n              <button onClick={handleRemove} data-cy=\"item_remove_button\">\n                <FaTrash />\n              </button>\n            ) : (\n              \"\"\n            )}\n          </div>\n          <div className=\"wcf-right\">\n            <div className=\"price-tag\">€{price}</div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n","import { ItemsContext } from \"../contexts/ItemsProvider\";\nimport Item from \"../components/Item\";\nimport { useCallback, useContext, useEffect, useState } from \"react\";\nimport { useLocation } from \"react-router\";\n\n//Toont alle items van een bepaald type, bv alle sleutelhangers\n\nexport default function ItemPage() {\n  const { getItemsOfType, loading, error } = useContext(ItemsContext);\n  const { pathname } = useLocation();\n  const [items, setItems] = useState([]);\n\n  const getItems = useCallback(async () => {\n    try {\n      const data = await getItemsOfType(pathname.substring(1));\n      setItems(data);\n    } catch (error) {\n      console.error(error);\n    }\n  }, [getItemsOfType, pathname, setItems]);\n\n  useEffect(() => {\n    getItems();\n  }, [getItems]);\n\n  if (loading) return <h1>Loading...</h1>;\n  if (error) return <pre className=\"text-red-600\">{error.message}</pre>;\n  if (!items) return null;\n  if (items.length === 0) return <h1>Momenteel niets in stock</h1>;\n\n  return (\n    <>\n      <br />\n      <div className=\"grid grid-cols-4\">\n        {items.map((item) => {\n          return <Item key={item.id} {...item} />;\n        })}\n      </div>\n    </>\n  );\n}\n","import \"../css/welkom.css\";\n\n//Homepage\n\nexport default function Welkom() {\n  return (\n    <>\n      <h1>\n        Van harte welkom iedereen\n        <br />\n        Hier worden alle kleine dingen gemaakt: sieraden, beelden, kaarsen,\n        geschenken, ...\n      </h1>\n      <img src={\"./images/Welkom.jpg\"} alt={\"Welkom\"} />\n      <p>\n        Geniet van alle kleine dingen in het leven, meer hebben we niet nodig.\n      </p>\n    </>\n  );\n}\n","import Item from \"./Item.jsx\";\nimport { ItemsContext } from \"../contexts/ItemsProvider.js\";\nimport React, { useContext } from \"react\";\n\nexport default function ItemList() {\n  //Displayt alle huidige items in stock\n  //Enkel zichtbaar voor admins\n\n  const { items, error, loading } = useContext(ItemsContext);\n\n  if (loading) return <h1>Loading...</h1>;\n  if (error) return <pre className=\"text-red-600\">{error.message}</pre>;\n  if (!items) return null;\n  return (\n    <>\n      {items.map((item) => {\n        return <Item key={item.id} {...item} />;\n      })}\n    </>\n  );\n}\n","import { useFormContext } from \"react-hook-form\";\n\nconst LabelInput = ({ label, type, defaultValue, validation, ...rest }) => {\n  //Standaard input element die gebruikt zal worden bij de formulieren\n\n  const { register, errors } = useFormContext();\n  return (\n    <div className=\"col-span-6 sm:col-span-3\">\n      <label htmlFor={label}>\n        {label.charAt(0).toUpperCase() + label.slice(1)}\n      </label>\n      <input\n        {...register(label, validation)}\n        defaultValue={defaultValue}\n        placeholder={label}\n        type={type}\n        id={label}\n        name={label}\n        {...rest}\n      />\n      {errors[label] && (\n        <p className=\"text-red-600 text-2xl\">{errors[label].message}</p>\n      )}\n    </div>\n  );\n};\n\nexport default LabelInput;\n","import { useFormContext } from \"react-hook-form\";\n\nconst LabelSelect = ({ label, options, validation, ...rest }) => {\n  //Standaard select element die gebruikt zal worden bij de formulieren\n\n  const { register, errors } = useFormContext();\n  return (\n    <div className=\"col-span-6 sm:col-span-3\">\n      <label htmlFor={label}>\n        {label.charAt(0).toUpperCase() + label.slice(1)}\n      </label>\n      <select\n        {...register(label, validation)}\n        {...rest}\n        id={label}\n        name={label}\n      >\n        <option value=\"\">--kies een {label}--</option>\n        {options.map((value) => (\n          <option key={value} value={value}>\n            {value}\n          </option>\n        ))}\n      </select>\n      {errors[label] && (\n        <p className=\"text-red-600 text-2xl\">{errors[label].message}</p>\n      )}\n    </div>\n  );\n};\n\nexport default LabelSelect;\n","import { initializeApp } from \"firebase/app\";\nimport { getStorage } from \"firebase/storage\";\nimport config from \"../config.json\";\n\n//Firebase instantie aanmaken\n\nconst API_KEY = process.env.REACT_APP_FIREBASE_API_KEY;\nconst AUTH_DOMAIN = config.firebase_auth_domain;\nconst PROJECT_ID = config.firebase_project_id;\nconst STORAGE_BUCKET = config.firebase_storage_bucket;\nconst MESSAGING_SENDER_ID = config.firebase_messaging_sender_id;\nconst APP_ID = config.firebase_app_id;\n\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\nconst firebaseConfig = {\n  apiKey: API_KEY,\n  authDomain: AUTH_DOMAIN,\n  projectId: PROJECT_ID,\n  storageBucket: STORAGE_BUCKET,\n  messagingSenderId: MESSAGING_SENDER_ID,\n  appId: APP_ID,\n  //measurementId: \"${config.measurementId}\",\n};\n\nconst app = initializeApp(firebaseConfig);\n\nconst storage = getStorage(app);\n\nexport { storage, app };\n","import React, { useCallback, useContext, useEffect, useState } from \"react\";\nimport { FormProvider, useForm } from \"react-hook-form\";\nimport LabelInput from \"./LabelInput\";\nimport LabelSelect from \"./LabelSelect\";\nimport { useItems } from \"../contexts/ItemsProvider\";\nimport { TypesContext } from \"../contexts/TypesProvider.js\";\nimport { useParams } from \"react-router-dom\";\nimport { useHistory } from \"react-router\";\nimport { storage } from \"../firebase\";\nimport { ref, uploadBytesResumable, getDownloadURL } from \"firebase/storage\";\nimport \"../css/form.css\";\n\n//Formulier op nieuw item aan te maken. Er zijn ook al functies geschreven om items te veranderen,\n//maar deze worden nog niet geïmplementeerd omdat ik nog niet zeker weet of de klant ze effectief nodig heeft\n\nconst validationRules = {\n  title: { required: \"Dit veld is vereist\" },\n  image: { required: \"Dit veld is vereist\" },\n  type: { required: \"Dit veld is vereist\" },\n  price: {\n    valueAsNumber: true,\n    required: \"Dit veld is vereist\",\n    min: { value: 1, message: \"Minimum €1\" },\n    max: { value: 5000, message: \"Maximum €5000\" },\n  },\n};\n\nexport default function ItemForm() {\n  //const { id } = useParams();\n  const history = useHistory();\n  const {\n    register,\n    handleSubmit,\n    reset,\n    formState: { errors },\n    setValue,\n  } = useForm();\n  const [progress, setProgress] = useState(0);\n  const [url, setUrl] = useState(\"\");\n\n  const { currentItem, setItemToUpdate, createOrUpdateItem } = useItems();\n\n  const { types } = useContext(TypesContext);\n  const optionTypes = types.map((t) => t.title);\n  var laatsteUrl;\n\n  useEffect(() => {\n    //Functie om data van een te veranderen item in te laden\n\n    if (\n      // check on non-empty object\n      currentItem &&\n      (Object.keys(currentItem).length !== 0 ||\n        currentItem.constructor !== Object)\n    ) {\n      setValue(\"title\", currentItem.title);\n      setValue(\"type\", currentItem.type.title);\n      setValue(\"image\", currentItem.imagesrc);\n      setValue(\"price\", currentItem.price);\n    } else {\n      reset();\n    }\n  }, [currentItem, setValue, reset]);\n\n  const onSubmit = useCallback(\n    async (data) => {\n      console.log(\n        `Submit data = ${JSON.stringify(data)}, currentItem = ${JSON.stringify(\n          currentItem\n        )}`\n      );\n      try {\n        await createOrUpdateItem({\n          //momenteel worden enkel nieuwe items aangemaakt\n\n          //id: currentItem ? currentItem.id : \"\",\n          title: data.title,\n          imagesrc: laatsteUrl ? laatsteUrl : \"noSource\",\n          typeId: types.find((t) => t.title === data.type).id,\n          description: data.description,\n          price: data.price,\n        });\n        setItemToUpdate(null);\n        history.push(\"/items\");\n      } catch (error) {\n        console.error(error);\n      }\n    },\n    [createOrUpdateItem, currentItem, setItemToUpdate, history, types]\n  );\n\n  const handleFileChange = (e) => {\n    //Juiste image selecteren om up te loaden\n\n    if (e.target.files[0]) {\n      handleUpload(e.target.files[0]);\n    }\n  };\n\n  const handleUpload = useCallback(\n    (image) => {\n      //image uploaden naar Firebase\n\n      const storageRef = ref(storage, `images/${image.name}`);\n      const uploadTask = uploadBytesResumable(storageRef, image);\n      uploadTask.on(\n        \"state_changed\",\n        (snapshot) => {\n          const progress = Math.round(\n            (snapshot.bytesTransferred / snapshot.totalBytes) * 100\n          );\n          setProgress(progress);\n        },\n        (error) => {\n          console.log(error);\n        },\n        () => {\n          //image source link ophalen\n\n          getDownloadURL(uploadTask.snapshot.ref).then((downloadURL) => {\n            if (downloadURL) {\n              setUrl(downloadURL);\n              laatsteUrl = downloadURL;\n              document.querySelector(\"[for=p]\").value = 100;\n            }\n          });\n        }\n      );\n    },\n    [setUrl]\n  );\n\n  return (\n    //formulier weergeven\n    <>\n      <div id=\"formId\">\n        <div className=\"form-wrapper\">\n          <FormProvider\n            handleSubmit={handleSubmit}\n            errors={errors}\n            register={register}\n          >\n            <h1>Voeg een nieuw item toe</h1>\n            <form onSubmit={handleSubmit(onSubmit)}>\n              <LabelInput\n                label=\"title\"\n                type=\"text\"\n                defaultValue=\"\"\n                validation={validationRules.title}\n                data-cy=\"title_input\"\n              />\n              <LabelSelect\n                label=\"type\"\n                options={optionTypes}\n                validation={validationRules.type}\n                data-cy=\"type_input\"\n              />\n              <LabelInput\n                label=\"description\"\n                type=\"text\"\n                data-cy=\"description_input\"\n              />\n              <LabelInput\n                label=\"image\"\n                type=\"file\"\n                onChange={handleFileChange}\n                validation={validationRules.image}\n                data-cy=\"image_input\"\n              />\n              <br />\n              <div id=\"loader\">\n                <progress id=\"p\" value={progress} max=\"100\"></progress>\n                <output for=\"p\"></output>\n              </div>\n              <br />\n              {url ? <img src={url} id=\"imgPreview\" /> : \"\"}\n              <LabelInput\n                label=\"price\"\n                type=\"number\"\n                defaultValue=\"0\"\n                step=\"0.01\"\n                validation={validationRules.price}\n                data-cy=\"price_input\"\n              />\n              <button\n                id=\"submitButton\"\n                type=\"submit\"\n                className=\"btn btn-primary\"\n                data-cy=\"submit_button\"\n              >\n                Voeg toe\n              </button>\n            </form>\n          </FormProvider>\n        </div>\n      </div>\n    </>\n  );\n}\n","import { useLocation } from \"react-router\";\n\n//Onbekende url's opvangen met deze pagina\n\nexport default function NotFoundPage() {\n  const { pathname } = useLocation();\n  return (\n    <div className=\"text-red-600 font-extrabold text-3xl\">\n      <p>De webpagina met als url {pathname} bestaat niet.</p>\n    </div>\n  );\n}\n","import { useCallback, useEffect, useState } from \"react\";\nimport { useSession } from \"../contexts/AuthProvider\";\nimport { useOrders } from \"../contexts/OrdersProvider\";\nimport { Link } from \"react-router-dom\";\n\nimport \"../css/winkelkar.css\";\n\n//Winkelkar van de gebruiker\n//van hieruit kunnen bestelde items terug verwijderd worden\n//of besteld worden\n\nexport default function WinkelkarPage() {\n  const { user } = useSession();\n  const { getOrderWithUserId, createOrUpdateOrder } = useOrders();\n  const [items, setItems] = useState([]);\n  const [aantal, setAantal] = useState(0);\n\n  const retrieveItems = async () => {\n    //Bestelde items ophalen\n\n    const data = await getOrderWithUserId(user.id);\n    if (data) {\n      setItems(data.items);\n      setAantal(data.items.length);\n    }\n  };\n\n  useEffect(() => {\n    if (user) {\n      retrieveItems();\n    }\n  }, [user]);\n\n  const VerwijderItem = useCallback(\n    async (index) => {\n      const data = await getOrderWithUserId(user.id);\n      const items = data.items;\n      setItems(data.items);\n      items.splice(index, 1);\n      setAantal(items.length);\n      await createOrUpdateOrder({\n        id: data?.id,\n        userId: user.id,\n        items: JSON.stringify(items),\n      });\n    },\n    [setAantal, createOrUpdateOrder]\n  );\n\n  const berekenTotaal = useCallback(() => {\n    if (items) {\n      const totaal = items.reduce((acc, value) => acc + Number(value.price), 0);\n      return totaal.toFixed(2);\n    } else {\n      return 0;\n    }\n  }, [items]);\n\n  if (items.length === 0) return <h1>Uw winkelkar is momenteel nog leeg.</h1>;\n\n  return (\n    <>\n      <div id=\"winkelkarPage\">\n        <h1>Huidige bestelling: {aantal} item(s)</h1>\n        <p>Totaal: €{berekenTotaal()}</p>\n        <div>\n          <Link to={\"/bestelling\"}>\n            <button id=\"bestelBtn\" data-cy=\"bestel_btn\">\n              Bestellen\n            </button>\n          </Link>\n        </div>\n        <div className=\"containerWinkelwagen\">\n          {items\n            ? items.map((item, index) => {\n                return (\n                  <>\n                    <div className=\"gridItem\" data-cy=\"winkelkar_item\">\n                      <h2>{item.title}</h2>\n                      <img src={item.imagesrc} alt={item.title} />\n                      <div className=\"itemFooter\">\n                        <p>\n                          Prijs: €{item.price}\n                          <br />\n                          <button\n                            onClick={() => {\n                              VerwijderItem(index);\n                            }}\n                          >\n                            Verwijder\n                          </button>\n                        </p>\n                      </div>\n                    </div>\n                  </>\n                );\n              })\n            : \"\"}\n        </div>\n      </div>\n    </>\n  );\n}\n","import \"../css/login.css\";\nimport { useCallback, useEffect } from \"react\";\nimport { FormProvider, useForm } from \"react-hook-form\";\nimport { useHistory } from \"react-router-dom\";\nimport { useLogin, useSession, useRegister } from \"../contexts/AuthProvider\";\nimport swal from \"sweetalert\";\n\n//Toont login- en registerpagina\n//Aparte formulieren voor login en register\n\nexport default function LogInPage() {\n  const history = useHistory();\n  const { loading, error, isAuthed, setError } = useSession();\n  const login = useLogin();\n  const registerUser = useRegister();\n  const methods = useForm();\n  const methods2 = useForm();\n  const { handleSubmit, reset, register } = methods;\n  const {\n    handleSubmit: handleSubmit2,\n    reset: reset2,\n    register: register2,\n    getValues: getValues2,\n  } = methods2;\n\n  useEffect(() => {\n    if (isAuthed) {\n      history.replace(\"/\");\n    }\n    if (error) {\n      swal({\n        title: \"Error\",\n        text: error,\n        icon: \"error\",\n      });\n      setError(\"\");\n    }\n  }, [isAuthed, history, error]);\n\n  const handleLogin = useCallback(\n    async ({ email, password }) => {\n      try {\n        const success = await login(email, password);\n        if (success) {\n          history.replace(\"/\");\n        }\n      } catch (error) {\n        swal(\n          \"Error\",\n          \"Er is een fout opgetreden, probeert u het later opnieuw\",\n          \"error\"\n        );\n        console.error(error);\n      }\n    },\n    [login, history]\n  );\n\n  const handleRegister = useCallback(\n    async ({ name, email, password }) => {\n      try {\n        const success = await registerUser({\n          name,\n          email,\n          password,\n        });\n\n        if (success) {\n          // we can't come back to register\n          history.replace(\"/\");\n        }\n      } catch (error) {\n        console.log(error);\n        swal(\n          \"Error\",\n          \"Er is een fout opgetreden, probeert u het later opnieuw\",\n          \"error\"\n        );\n      }\n    },\n    [history, registerUser]\n  );\n\n  const handleCancel = useCallback(() => {\n    reset();\n  }, [reset]);\n\n  const handleCancel2 = useCallback(() => {\n    reset2();\n  }, [reset2]);\n\n  const handleClick = () => {\n    document.querySelector(\".cont\").classList.toggle(\"s--signup\");\n  };\n\n  return (\n    <>\n      <div id=\"loginform\">\n        <div className=\"cont\">\n          <FormProvider {...methods}>\n            <form key={1} onSubmit={handleSubmit(handleLogin)}>\n              <div className=\"form sign-in\">\n                <h2>Welkom terug!</h2>\n                <label htmlFor=\"email\">\n                  <span>Email</span>\n                  <input\n                    type=\"email\"\n                    {...register(\"email\")}\n                    required\n                    data-cy=\"email_input\"\n                  />\n                </label>\n                <label htmlFor=\"password\">\n                  <span>Wachtwoord</span>\n                  <input\n                    type=\"password\"\n                    {...register(\"password\")}\n                    required\n                    data-cy=\"password_input\"\n                  />\n                </label>\n                <button\n                  type=\"submit\"\n                  disabled={loading}\n                  className=\"submit\"\n                  data-cy=\"submit_btn\"\n                >\n                  Log In\n                </button>\n                <button type=\"reset\" className=\"submit\" onClick={handleCancel}>\n                  Annuleer\n                </button>\n              </div>\n            </form>\n          </FormProvider>\n          <div className=\"sub-cont\">\n            <div className=\"img\">\n              <div className=\"img__text m--up\">\n                <h2>Nieuw hier?</h2>\n                <p>\n                  Schrijf je in en ontdek een groot aantal nieuwe mogelijkheden!\n                </p>\n              </div>\n              <div className=\"img__text m--in\">\n                <h2>Een van ons?</h2>\n                <p>\n                  Als je al een account hebt, log dan in. We hebben je gemist!\n                </p>\n              </div>\n              <div className=\"img__btn\" onClick={handleClick}>\n                <span className=\"m--up\">Registreer</span>\n                <span className=\"m--in\">Log In</span>\n              </div>\n            </div>\n            <FormProvider {...methods2}>\n              <form key={2} onSubmit={handleSubmit2(handleRegister)}>\n                <div className=\"form sign-up\">\n                  <h2>Tijd om je thuis te voelen</h2>\n                  <label htmlFor=\"name\">\n                    <span>Naam</span>\n                    <input\n                      type=\"text\"\n                      {...register2(\"name\", {\n                        validate: {\n                          validName: (value) => {\n                            const naam = getValues2(\"name\");\n                            const reg = new RegExp(\n                              /^[a-zA-Z]+[ -_'a-zA-Z]*[a-zA-Z]+$/\n                            );\n                            if (!reg.test(naam)) {\n                              swal(\n                                \"Error\",\n                                \"Ongeldige gebruikersnaam\",\n                                \"error\"\n                              );\n                            }\n                            return reg.test(naam);\n                          },\n                        },\n                      })}\n                      required\n                    />\n                  </label>\n                  <label htmlFor=\"email\">\n                    <span>Email</span>\n                    <input type=\"email\" {...register2(\"email\")} required />\n                  </label>\n                  <label htmlFor=\"password\">\n                    <span>Wachtwoord</span>\n                    <input\n                      type=\"password\"\n                      {...register2(\"password\")}\n                      required\n                    />\n                  </label>\n                  <label htmlFor=\"confirmPassword\">\n                    <span>Bevestig wachtwoord</span>\n                    <input\n                      type=\"password\"\n                      {...register2(\"confirmPassword\", {\n                        validate: {\n                          notIdentical: (value) => {\n                            const password = getValues2(\"password\");\n                            if (password !== value) {\n                              swal(\n                                \"Error\",\n                                \"Wachtwoorden moeten hetzelfde zijn\",\n                                \"error\"\n                              );\n                            }\n                            return password === value ? null : \"\";\n                          },\n                        },\n                      })}\n                      required\n                    />\n                  </label>\n                  <button type=\"submit\" className=\"submit\">\n                    Registreer\n                  </button>\n                  <button\n                    type=\"reset\"\n                    className=\"submit\"\n                    onClick={handleCancel2}\n                  >\n                    Annuleer\n                  </button>\n                </div>\n              </form>\n            </FormProvider>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n","import { useMemo } from \"react\";\nimport { Redirect, Route, useLocation } from \"react-router\";\nimport { useSession } from \"../contexts/AuthProvider\";\n\nexport default function PrivateRoute({ children, role, ...rest }) {\n  //Definieert een route waarvan de child elementen enkel zichtbaar zijn\n  //voor bepaalde doelcategorieën\n\n  const { isAuthed, hasRole } = useSession();\n  const { pathname } = useLocation();\n\n  const canShowRoute = useMemo(() => {\n    if (!role) return isAuthed;\n    return isAuthed && hasRole(role);\n  }, [isAuthed, role, hasRole]);\n\n  return (\n    <Route {...rest}>\n      {canShowRoute ? children : <Redirect from={pathname} to=\"/login\" />}\n    </Route>\n  );\n}\n","import { useSession } from \"../contexts/AuthProvider\";\nimport { useOrders } from \"../contexts/OrdersProvider\";\nimport { useHistory } from \"react-router-dom\";\nimport { FormProvider, useForm } from \"react-hook-form\";\nimport LabelInput from \"../components/LabelInput\";\nimport { useEffect, useState, useCallback } from \"react\";\nimport { send } from \"emailjs-com\";\nimport config from \"../config.json\";\nimport swal from \"@sweetalert/with-react\";\n\nimport \"../css/bestelling.css\";\n\n//Toont de bestelling van de gebruiker + formulier voor verdere gegevens\n\nconst validationRules = {\n  adres: { required: \"Dit veld is vereist\" },\n  gemeente: { required: \"Dit veld is vereist\" },\n  postcode: {\n    valueAsNumber: true,\n    required: \"Dit veld is vereist\",\n    min: { value: 1000, message: \"Minimum 1000\" },\n    max: { value: 9999, message: \"Maximum 9999\" },\n  },\n};\n\nconst EMAIL_SERVICE_TOKEN = config.email_service_token;\nconst EMAIL_TEMPLATE_TOKEN = config.email_template_token;\nconst EMAIL_USER_TOKEN = config.email_user_token;\n\nexport default function BestellingPage() {\n  const history = useHistory();\n  const { user } = useSession();\n  const { currentOrder, deleteOrder } = useOrders();\n  const {\n    register,\n    handleSubmit,\n    reset,\n    formState: { errors },\n    setValue,\n  } = useForm();\n  const [testMap, setMap] = useState(new Map());\n  const [arrayUniqueById, setArr] = useState([]);\n\n  const reduceOrders = useCallback(() => {\n    //Per item mappen we hoeveel ervan besteld zijn\n\n    const hulp = currentOrder.items;\n    let testMap2 = new Map();\n    if (hulp) {\n      hulp.forEach((item) => {\n        if (!testMap2.get(item.id)) {\n          testMap2.set(item.id, 1);\n        } else {\n          testMap2.set(item.id, testMap2.get(item.id) + 1);\n        }\n      });\n    }\n    setMap(testMap2);\n    //nieuwe map wordt weer omgezet naar een array om vervolgens\n    //de array-methode map te kunnen gebruiken\n\n    setArr([\n      ...new Map(\n        currentOrder?.items?.map((item) => [item[\"id\"], item])\n      ).values(),\n    ]);\n  }, [currentOrder]);\n\n  const berekenTotaal = useCallback(() => {\n    //Totaal bedrag van de bestelling berekenen\n\n    if (currentOrder?.items) {\n      const totaal = currentOrder.items.reduce(\n        (acc, value) => acc + Number(value.price),\n        0\n      );\n      return totaal.toFixed(2);\n    } else {\n      return 0;\n    }\n  }, [currentOrder]);\n\n  const sendEmail = useCallback(() => {\n    //Bevestigingsmail naar de user sturen\n\n    send(\n      EMAIL_SERVICE_TOKEN,\n      EMAIL_TEMPLATE_TOKEN,\n      {\n        from_name: \"Robbert Naessens\",\n        to_name: user.name,\n        send_to: user.email,\n        message:\n          \"Dit is een testmessage. De bestelling werd succesvol ontvangen\",\n        reply_to: \"robbertnaessens@gmail.com\",\n      },\n      EMAIL_USER_TOKEN\n    )\n      .then((response) => {\n        console.log(\"SUCCESS!\", response.status, response.text);\n      })\n      .catch((err) => {\n        console.log(\"FAILED...\", err);\n      });\n  }, [user]);\n\n  const onSubmit = useCallback(() => {\n    //Effectief bestellen\n\n    swal({\n      title: \"Laatste check\",\n      text: \"Zijn al uw gegevens correct?\",\n      icon: \"warning\",\n      buttons: [\"Annuleer\", \"Bestel!\"],\n    }).then(async (willOrder) => {\n      if (willOrder) {\n        try {\n          swal({\n            title: \"Gelukt\",\n            content: (\n              <div>\n                <b>Uw bestelling werd goed ontvangen!</b>\n                <br />U ontvangt binnen enkele minuten een mail met bevestiging\n                en verdere instructies.\n              </div>\n            ),\n            icon: \"success\",\n          });\n          //sendEmail();\n          deleteOrder(currentOrder.id);\n          history.replace(\"/\");\n        } catch (error) {\n          console.error(error);\n        }\n      }\n    });\n  }, [history, user, currentOrder, deleteOrder]);\n\n  useEffect(() => {\n    reduceOrders();\n    if (user) {\n      //Naam en email van de gebruiker automatisch invullen in formulier\n\n      setValue(\"naam\", user.name);\n      setValue(\"email\", user.email);\n    } else {\n      reset();\n    }\n  }, [user, reset, setValue, reduceOrders]);\n\n  return (\n    <div id=\"bestelPage\">\n      <h1>Uw bestelde items</h1>\n      <p>Totaal: €{berekenTotaal()}</p>\n      <div className=\"table-wrapper\">\n        <table className=\"fl-table\">\n          <thead>\n            <tr>\n              <th>Item</th>\n              <th>Amount</th>\n              <th>Price</th>\n              <th></th>\n            </tr>\n          </thead>\n          <tbody data-cy=\"bestelling_tabel\">\n            {arrayUniqueById?.map((value) => {\n              return (\n                <tr>\n                  <td>{value.title}</td>\n                  <td>x{testMap.get(value.id)}</td>\n                  <td>€{testMap.get(value.id) * value.price}</td>\n                  <td>\n                    <button\n                      onClick={() => {\n                        return swal({\n                          title: value.title,\n                          content: (\n                            <img alt={value.title} src={value.imagesrc}></img>\n                          ),\n                        });\n                      }}\n                    >\n                      &#x1F50D;\n                    </button>\n                  </td>\n                </tr>\n              );\n            })}\n          </tbody>\n        </table>\n      </div>\n      <h1>Uw gegevens</h1>\n      <div className=\"form-wrapper\">\n        <FormProvider\n          handleSubmit={handleSubmit}\n          errors={errors}\n          register={register}\n        >\n          <form onSubmit={handleSubmit(onSubmit)}>\n            <LabelInput\n              label=\"naam\"\n              type=\"text\"\n              disabled\n              data-cy=\"bestelling_naam\"\n            />\n            <LabelInput\n              label=\"email\"\n              type=\"text\"\n              disabled\n              data-cy=\"bestelling_email\"\n            />\n            <LabelInput\n              label=\"adres\"\n              type=\"text\"\n              validation={validationRules.adres}\n              data-cy=\"bestelling_adres\"\n            />\n            <LabelInput\n              label=\"postcode\"\n              type=\"number\"\n              validation={validationRules.postcode}\n              data-cy=\"bestelling_postcode\"\n            />\n            <LabelInput\n              label=\"gemeente\"\n              type=\"text\"\n              validation={validationRules.gemeente}\n              data-cy=\"bestelling_gemeente\"\n            />\n            <button type=\"submit\" data-cy=\"bestelling_submit\">\n              Bestel\n            </button>\n          </form>\n        </FormProvider>\n      </div>\n    </div>\n  );\n}\n","import { useContext, useCallback } from \"react\";\nimport { Link, NavLink } from \"react-router-dom\";\nimport { TypesContext } from \"../contexts/TypesProvider\";\nimport ItemPage from \"../pages/ItemPage\";\nimport Welkom from \"../pages/Welkom\";\nimport ItemList from \"./ItemList\";\nimport ItemForm from \"./ItemForm\";\nimport NotFoundPage from \"../pages/NotFoundPage\";\nimport { Redirect, Route, Switch } from \"react-router\";\nimport \"../css/navigatie.css\";\nimport { FaShoppingCart } from \"react-icons/fa\";\nimport { GoPlus } from \"react-icons/go\";\nimport WinkelkarPage from \"../pages/WinkelkarPage\";\nimport LogInPage from \"../pages/LogInPage\";\nimport PrivateRoute from \"./PrivateRoute\";\nimport { useLogout, useSession } from \"../contexts/AuthProvider\";\nimport BestellingPage from \"../pages/BestellingPage\";\n\nexport const Navigate = () => {\n  //Component die de navigatiebalk aanmaakt m.b.v. links\n  //Alle routes worden hier gedefinieerd\n\n  const { types } = useContext(TypesContext);\n  const { user, isAuthed, hasRole } = useSession();\n  const logout = useLogout();\n\n  const handleLogout = useCallback(() => {\n    logout();\n  }, [logout]);\n\n  return (\n    <>\n      <div>\n        <div className=\"balk\">\n          <div className=\"welkomUser\">\n            <p className=\"welkomParagraaf\">Welkom {user ? user.name : \"\"}!</p>\n          </div>\n          {isAuthed ? ( //Iemand is ingelogd => uitlogbutton tonen\n            <>\n              <div className=\"linkLogin_Logout\">\n                <button onClick={handleLogout}>Uitloggen</button>\n              </div>\n            </>\n          ) : (\n            //Nog niemand ingelogd => loginbutton tonen\n            <>\n              <div className=\"linkLogin_Logout\">\n                <Link to={\"/login\"}>\n                  {\" \"}\n                  <button>Login</button>{\" \"}\n                </Link>\n              </div>\n            </>\n          )}\n        </div>\n        <div className=\"mx-auto w-1/5\">\n          <Link to={\"/welkom\"}>\n            <img id=\"logoImg\" src={\"/images/Home.jpg\"} alt=\"Home\" />\n          </Link>\n        </div>\n        <div id=\"navLinks\">\n          <ul id=\"navigatie_ul\">\n            <li>\n              <NavLink\n                activeStyle={{ backgroundColor: \"#c5eb9b\" }}\n                to=\"/welkom\"\n              >\n                Welkom\n              </NavLink>\n            </li>\n            {types.map((type) => {\n              return (\n                <li key={type.id}>\n                  <NavLink\n                    activeStyle={{ backgroundColor: \"#c5eb9b\" }}\n                    to={`/items/type/${type.title}`}\n                  >\n                    {type.title}\n                  </NavLink>\n                </li>\n              );\n            })}\n            <li>\n              <NavLink\n                activeStyle={{ backgroundColor: \"#c5eb9b\" }}\n                to={`/winkelkar`}\n              >\n                &nbsp;\n                <FaShoppingCart />\n                &nbsp;\n              </NavLink>\n            </li>\n            {hasRole(\"admin\") ? (\n              <>\n                <li>\n                  <NavLink\n                    activeStyle={{ backgroundColor: \"#c5eb9b\" }}\n                    to={`/items/add`}\n                  >\n                    &nbsp;\n                    <GoPlus />\n                    &nbsp;\n                  </NavLink>\n                </li>\n                <li>\n                  <NavLink to={`/items`}>Items</NavLink>\n                </li>\n              </>\n            ) : (\n              \"\"\n            )}\n          </ul>\n        </div>\n      </div>\n\n      <Switch>\n        {types.map((type) => {\n          return (\n            <Route exact path={`/items/type/${type.title}`} key={type.id}>\n              <ItemPage />\n            </Route>\n          );\n        })}\n        <Route exact path=\"/welkom\">\n          <Welkom />\n        </Route>\n        <Route exact path=\"/login\">\n          <LogInPage />\n        </Route>\n        <Route path=\"/\" exact>\n          <Redirect to=\"/welkom\" />\n        </Route>\n        <PrivateRoute exact path=\"/items\">\n          <div className=\"grid grid-cols-4\">\n            <ItemList />\n          </div>\n        </PrivateRoute>\n        <PrivateRoute exact path=\"/items/add\">\n          <ItemForm />\n        </PrivateRoute>\n        <PrivateRoute exact path=\"/winkelkar\">\n          <WinkelkarPage />\n        </PrivateRoute>\n        <PrivateRoute exact path=\"/bestelling\">\n          <BestellingPage />\n        </PrivateRoute>\n        <Route path=\"*\">\n          <NotFoundPage />\n        </Route>\n      </Switch>\n    </>\n  );\n};\n","import { ItemsProvider } from \"./contexts/ItemsProvider\";\nimport { TypesProvider } from \"./contexts/TypesProvider\";\nimport { AuthProvider } from \"./contexts/AuthProvider\";\nimport { OrdersProvider } from \"./contexts/OrdersProvider\";\nimport { Navigate } from \"./components/Navigatie\";\nimport \"./App.css\";\n\nfunction App() {\n  return (\n    <>\n      <div id=\"main\">\n        <AuthProvider>\n          <TypesProvider>\n            <ItemsProvider>\n              <OrdersProvider>\n                <Navigate />\n              </OrdersProvider>\n            </ItemsProvider>\n          </TypesProvider>\n        </AuthProvider>\n      </div>\n      <div className=\"contact\">\n        <p className=\"contact-c\">&copy;Robbert Naessens</p>\n        <p className=\"contact-p\">Contact:</p>\n        <p className=\"contact-gegevens\">\n          &#x1F4DE;+32 497 99 40 73\n          <br />\n          &#9993;robbertnaessens@gmail.com\n        </p>\n      </div>\n    </>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { BrowserRouter } from \"react-router-dom\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","import axiosRoot from \"axios\";\nimport config from \"../config.json\";\n\nexport const axios = axiosRoot.create({\n  baseURL: process.env.REACT_APP_BACKEND_BASE_URL || config.base_url,\n});\n\nexport const setAuthToken = (token) => {\n  if (token) {\n  axios.defaults.headers[\"Authorization\"] = `Bearer ${token}`;\n  } else {\n  delete axios.defaults.headers[\"Authorization\"];\n  }\n};\n","import {\n  createContext,\n  useMemo,\n  useState,\n  useCallback,\n  useEffect,\n  useContext,\n} from \"react\";\nimport * as usersApi from \"../api/users\";\nimport * as api from \"../api\";\nimport config from \"../config.json\";\n\nconst JWT_TOKEN_KEY = config.token_key;\nconst AuthContext = createContext();\n\n//Context die alles in verband met authenticatie beheert\n//In-/uitloggen, tokens aanmaken, rollen checken, ...\n\nfunction parseJwt(token) {\n  if (!token) return {};\n  const base64Url = token.split(\".\")[1];\n  const payload = Buffer.from(base64Url, \"base64\");\n  const jsonPayload = payload.toString(\"ascii\");\n  return JSON.parse(jsonPayload);\n}\n\nfunction parseExp(exp) {\n  if (!exp) return null;\n  if (typeof exp !== \"number\") exp = Number(exp);\n  if (isNaN(exp)) return null;\n  return new Date(exp * 1000);\n}\n\nconst useAuth = () => useContext(AuthContext);\n\nexport const useSession = () => {\n  const { token, user, ready, loading, error, hasRole, setError } = useAuth();\n  return {\n    token,\n    user,\n    ready,\n    error,\n    loading,\n    isAuthed: Boolean(token),\n    hasRole,\n    setError,\n  };\n};\n\nexport const useLogin = () => {\n  const { login } = useAuth();\n  return login;\n};\n\nexport const useLogout = () => {\n  const { logout } = useAuth();\n  return logout;\n};\n\nexport const useRegister = () => {\n  const { register } = useAuth();\n  return register;\n};\n\nexport const AuthProvider = ({ children }) => {\n  // will be false until the token is set\n  const [ready, setReady] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n  const [token, setToken] = useState(localStorage.getItem(JWT_TOKEN_KEY));\n  const [user, setUser] = useState(null);\n\n  const setSession = useCallback(async (token, user) => {\n    const { exp, userId } = parseJwt(token);\n    const expiry = parseExp(exp);\n    const stillValid = expiry >= new Date();\n\n    if (stillValid) {\n      localStorage.setItem(JWT_TOKEN_KEY, token);\n    } else {\n      localStorage.removeItem(JWT_TOKEN_KEY);\n      token = null;\n    }\n\n    api.setAuthToken(token);\n    setToken(token);\n    setReady(token && stillValid);\n\n    if (!user && stillValid) {\n      user = await usersApi.getUserById(userId);\n    }\n    setUser(user);\n  }, []);\n\n  useEffect(() => {\n    setSession(token);\n  }, [token, setSession]);\n\n  const login = useCallback(\n    async (email, password) => {\n      try {\n        setLoading(true);\n        setError(\"\");\n        const { token, user } = await usersApi.login(email, password);\n        await setSession(token, user);\n        return true;\n      } catch (error) {\n        console.error(error);\n        setError(\"Inloggen mislukt, probeert u het later opnieuw\");\n        return false;\n      } finally {\n        setLoading(false);\n      }\n    },\n    [setSession]\n  );\n\n  const register = useCallback(\n    async (data) => {\n      try {\n        setLoading(true);\n        setError(null);\n        const { token, user } = await usersApi.register(data);\n        await setSession(token, user);\n        return true;\n      } catch (error) {\n        setError(error);\n        return false;\n      } finally {\n        setLoading(false);\n      }\n    },\n    [setSession]\n  );\n\n  const logout = useCallback(() => {\n    setSession(null, null);\n  }, [setSession]);\n\n  const hasRole = useCallback(\n    (role) => {\n      if (!user) return false;\n      return user.roles.includes(role);\n    },\n    [user]\n  );\n\n  const value = useMemo(\n    () => ({\n      token,\n      user,\n      ready,\n      loading,\n      error,\n      login,\n      logout,\n      register,\n      hasRole,\n      setError,\n    }),\n    [\n      token,\n      user,\n      ready,\n      loading,\n      error,\n      login,\n      logout,\n      register,\n      hasRole,\n      setError,\n    ]\n  );\n\n  return <AuthContext.Provider value={value}>{children}</AuthContext.Provider>;\n};\n","import { axios } from \".\";\n\nexport const login = async (email, password) => {\n  const { data } = await axios.post(`users/login`, {\n    email,\n    password,\n  });\n  console.log(`data = ${data}`);\n  return data;\n};\n\nexport const register = async ({ name, email, password }) => {\n  const { data } = await axios.post(`users/register`, {\n    name,\n    email,\n    password,\n  });\n  return data;\n};\n\nexport const getUserById = async (id) => {\n  const { data } = await axios.get(`users/${id}`);\n  return data;\n};\n"],"sourceRoot":""}