(this.webpackJsonpwebapp=this.webpackJsonpwebapp||[]).push([[0],{102:function(e,t,r){},103:function(e,t,r){},104:function(e,t,r){},105:function(e,t,r){},106:function(e,t,r){},114:function(e,t,r){},115:function(e,t,r){},116:function(e,t,r){"use strict";r.r(t);var n=r(2),c=r.n(n),a=r(47),s=r.n(a),i=(r(72),r(3)),u=r.n(i),o=r(4),l=r(5),b=r(14),d=function(){var e=Object(o.a)(u.a.mark((function e(){var t,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("items");case 2:return t=e.sent,r=t.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=Object(o.a)(u.a.mark((function e(t){var r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("".concat(t));case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(o.a)(u.a.mark((function e(t){var r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("items/".concat(t));case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(o.a)(u.a.mark((function e(t){var r,n,c,a,s,i,o,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.id,n=t.title,c=t.imagesrc,a=t.typeId,s=t.description,i=t.price,e.next=3,Object(b.a)({method:r?"put":"post",url:"items/".concat(null!==r&&void 0!==r?r:""),data:{title:n,imagesrc:c,typeId:a,description:s,price:i}});case 3:return o=e.sent,l=o.data,e.abrupt("return",l);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(o.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.delete("items/".concat(t));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=r(15),f=r(1),x=Object(n.createContext)(),v=function(e){var t=e.children,r=Object(n.useState)([]),c=Object(l.a)(r,2),a=c[0],s=c[1],i=Object(n.useState)(!0),b=Object(l.a)(i,2),v=b[0],g=b[1],w=Object(n.useState)(),k=Object(l.a)(w,2),y=k[0],_=k[1],C=Object(n.useState)({}),S=Object(l.a)(C,2),N=S[0],I=S[1],E=Object(m.e)().ready,F=Object(n.useCallback)(Object(o.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,_(),g(!0),e.next=5,d();case 5:t=e.sent,s(t.data),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),_(e.t0);case 12:return e.prev=12,g(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])}))),[]),A=Object(n.useCallback)(function(){var e=Object(o.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,_(),g(!0),e.next=5,j(t);case 5:return r=e.sent,e.abrupt("return",r.data);case 9:e.prev=9,e.t0=e.catch(0),_(e.t0);case 12:return e.prev=12,g(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})));return function(t){return e.apply(this,arguments)}}(),[]),T=Object(n.useCallback)(function(){var e=Object(o.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,_(),g(!0),e.next=5,p(t);case 5:return r=e.sent,e.abrupt("return",r.data);case 9:e.prev=9,e.t0=e.catch(0),_(e.t0);case 12:return e.prev=12,g(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})));return function(t){return e.apply(this,arguments)}}(),[]);Object(n.useEffect)((function(){E&&0===(null===a||void 0===a?void 0:a.length)&&F()}),[E,a,F]);var U=Object(n.useCallback)(function(){var e=Object(o.a)(u.a.mark((function e(t){var r,n,c,a,s,i,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.id,n=t.title,c=t.imagesrc,a=t.typeId,s=t.description,i=t.price,_(),g(!0),e.prev=3,e.next=6,O({id:r,title:n,imagesrc:c,typeId:a,description:s,price:i});case 6:return o=e.sent,e.next=9,F();case 9:return e.abrupt("return",o);case 12:throw e.prev=12,e.t0=e.catch(3),console.log(e.t0),e.t0;case 16:return e.prev=16,g(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[3,12,16,19]])})));return function(t){return e.apply(this,arguments)}}(),[F]),D=Object(n.useCallback)(function(){var e=Object(o.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,_(),g(!0),e.next=5,h(t);case 5:F(),e.next=12;break;case 8:throw e.prev=8,e.t0=e.catch(0),console.log(e.t0),e.t0;case 12:return e.prev=12,g(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,8,12,15]])})));return function(t){return e.apply(this,arguments)}}(),[F]),P=Object(n.useCallback)((function(e){I(null===e?{}:a.find((function(t){return t.id===e})))}),[a]),L=Object(n.useMemo)((function(){return{items:a,error:y,loading:v,currentItem:N,createOrUpdateItem:U,deleteItem:D,setItemToUpdate:P,getItemsOfType:A,getItemWithId:T}}),[a,y,v,N,U,D,P,A,T]);return Object(f.jsx)(x.Provider,{value:L,children:t})},g=function(){var e=Object(o.a)(u.a.mark((function e(){var t,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("types");case 2:return t=e.sent,r=t.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(o.a)(u.a.mark((function e(t){var r,n,c,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.id,n=t.title,e.next=3,Object(b.a)({method:r?"put":"post",url:"items/".concat(null!==r&&void 0!==r?r:""),data:{title:n}});case 3:return c=e.sent,a=c.data,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(o.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.delete("type/".concat(t));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=Object(n.createContext)(),_=function(e){var t=e.children,r=Object(n.useState)({}),c=Object(l.a)(r,2),a=c[0],s=c[1],i=Object(n.useState)(),b=Object(l.a)(i,2),d=b[0],j=b[1],p=Object(n.useState)(!1),O=Object(l.a)(p,2),h=O[0],m=O[1],x=Object(n.useState)([]),v=Object(l.a)(x,2),_=v[0],C=v[1],S=Object(n.useCallback)(Object(o.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,j(),m(!0),e.next=5,g();case 5:return t=e.sent,C(t.data),e.abrupt("return",t.data);case 10:e.prev=10,e.t0=e.catch(0),j(e.t0);case 13:return e.prev=13,m(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[0,10,13,16]])}))),[]);Object(n.useEffect)((function(){0===(null===_||void 0===_?void 0:_.length)&&S()}),[S,_]);var N=Object(n.useCallback)(function(){var e=Object(o.a)(u.a.mark((function e(t){var r,n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.id,n=t.title,j(),m(!0),e.prev=3,e.next=6,w({id:r,title:n});case 6:return c=e.sent,e.next=9,S();case 9:return e.abrupt("return",c);case 12:throw e.prev=12,e.t0=e.catch(3),console.error(e.t0),e.t0;case 16:return e.prev=16,m(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[3,12,16,19]])})));return function(t){return e.apply(this,arguments)}}(),[S]),I=Object(n.useCallback)(function(){var e=Object(o.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),j(),e.prev=2,e.next=5,k(t);case 5:S(),e.next=12;break;case 8:throw e.prev=8,e.t0=e.catch(2),console.error(e.t0),e.t0;case 12:return e.prev=12,m(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[2,8,12,15]])})));return function(t){return e.apply(this,arguments)}}(),[S]),E=Object(n.useMemo)((function(){return{currentType:a,setCurrentType:s,types:_,error:d,loading:h,deleteType:I,createOrUpdateType:N}}),[_,d,h,s,I,a,N]);return Object(f.jsx)(y.Provider,{value:E,children:t})},C=function(){var e=Object(o.a)(u.a.mark((function e(){var t,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("orders");case 2:return t=e.sent,r=t.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(o.a)(u.a.mark((function e(t){var r,n,c,a,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.id,n=t.userId,c=t.items,e.next=3,Object(b.a)({method:r?"put":"post",url:"orders/".concat(null!==r&&void 0!==r?r:""),data:{userId:n,items:c}});case 3:return a=e.sent,s=a.data,e.abrupt("return",s);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(o.a)(u.a.mark((function e(t){var r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("orders/".concat(t));case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(o.a)(u.a.mark((function e(t){var r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("orders/user/".concat(t));case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(o.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.delete("orders/".concat(t));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=Object(n.createContext)(),A=function(){return Object(n.useContext)(F)},T=function(e){var t=e.children,r=Object(n.useState)([]),c=Object(l.a)(r,2),a=c[0],s=c[1],i=Object(n.useState)([]),b=Object(l.a)(i,2),d=b[0],j=b[1],p=Object(n.useState)(!0),O=Object(l.a)(p,2),h=O[0],x=O[1],v=Object(n.useState)(),g=Object(l.a)(v,2),w=g[0],k=g[1],y=Object(m.e)(),_=y.ready,A=y.user,T=Object(n.useState)({}),U=Object(l.a)(T,2),D=U[0],P=U[1],L=Object(n.useCallback)(Object(o.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,k(),x(!0),e.next=5,C();case 5:t=e.sent,s(t),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),k(e.t0);case 12:return e.prev=12,x(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])}))),[]),R=Object(n.useCallback)(function(){var e=Object(o.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,k(),x(!0),e.next=5,N(t);case 5:return r=e.sent,e.abrupt("return",r.data);case 9:e.prev=9,e.t0=e.catch(0),k(e.t0);case 12:return e.prev=12,x(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})));return function(t){return e.apply(this,arguments)}}(),[]),W=Object(n.useCallback)(function(){var e=Object(o.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,k(),x(!0),e.next=5,I(t);case 5:return r=e.sent,j(r[0].items),P(r[0]),e.abrupt("return",r[0]);case 11:e.prev=11,e.t0=e.catch(0),k(e.t0);case 14:return e.prev=14,x(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[0,11,14,17]])})));return function(t){return e.apply(this,arguments)}}(),[]),B=Object(n.useCallback)(function(){var e=Object(o.a)(u.a.mark((function e(t){var r,n,c,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.id,n=t.userId,c=t.items,k(),x(!0),e.prev=3,e.next=6,S({id:r,userId:n,items:c});case 6:return a=e.sent,e.abrupt("return",a);case 10:throw e.prev=10,e.t0=e.catch(3),console.log(e.t0),e.t0;case 14:return e.prev=14,x(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[3,10,14,17]])})));return function(t){return e.apply(this,arguments)}}(),[]),q=Object(n.useCallback)(function(){var e=Object(o.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,k(),x(!0),e.next=5,E(t);case 5:e.next=11;break;case 7:throw e.prev=7,e.t0=e.catch(0),console.log(e.t0),e.t0;case 11:return e.prev=11,x(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,7,11,14]])})));return function(t){return e.apply(this,arguments)}}(),[]);Object(n.useEffect)((function(){A&&_&&0===(null===d||void 0===d?void 0:d.length)&&(L(),W(A.id))}),[A,_,d,W,L]);var M=Object(n.useCallback)((function(e){P(null===e?{}:a.find((function(t){return t.id===e})))}),[a,P]),V=Object(n.useMemo)((function(){return{allOrders:a,itemsInOrder:d,error:w,loading:h,currentOrder:D,createOrUpdateOrder:B,deleteOrder:q,setOrderToUpdate:M,getOrderWithUserId:W,getOrderWithId:R}}),[a,d,w,h,D,B,q,M,W,R]);return Object(f.jsx)(F.Provider,{value:V,children:t})},U=r(17),D=r(9),P=r(38),L=r(7),R=(r(96),r(24)),W=r.n(R);function B(e){var t=e.id,r=e.title,c=e.imagesrc,a=e.type,s=e.description,i=e.price,l=Object(n.useContext)(x).deleteItem,b=A(),d=b.createOrUpdateOrder,j=b.getOrderWithUserId,O=b.itemsInOrder,h=Object(L.h)().pathname,v=Object(m.e)(),g=v.isAuthed,w=v.user,k=O,y=Object(n.useCallback)(Object(o.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:W()({title:"Ben je zeker?",text:"Dit item zal definitief verwijderd worden!",icon:"warning",buttons:!0,dangerMode:!0}).then(function(){var e=Object(o.a)(u.a.mark((function e(r){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=10;break}return e.prev=1,e.next=4,l(t);case 4:W()("Item is succesvol verwijderd",{icon:"success"}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)}))),[l,t]),_=Object(n.useCallback)(Object(o.a)(u.a.mark((function e(){var r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!g){e.next=19;break}return e.prev=1,W()("Toegevoegd!","Item is toegevoegd aan uw winkelkar","success"),e.next=5,p(t);case 5:return r=e.sent,k.push(r),e.next=9,j(w.id);case 9:return n=e.sent,e.next=12,d({id:null===n||void 0===n?void 0:n.id,userId:w.id,items:JSON.stringify(k)});case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),console.error(e.t0);case 17:e.next=20;break;case 19:W()("Waarschuwing","U moet ingelogd zijn om items toe te voegen aan uw winkelkar.","warning");case 20:case"end":return e.stop()}}),e,null,[[1,14]])}))),[g,p,d]);return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{id:"itemData","data-cy":"item",children:[Object(f.jsx)("img",{className:"card-img-top image-thumbnail itemImage",src:c,alt:r,id:"itemImage"}),Object(f.jsxs)("div",{className:"card-body",children:[Object(f.jsx)("div",{id:"category",children:a.title}),Object(f.jsx)("div",{className:"card-title",id:"itemName",children:Object(f.jsx)("h3",{"data-cy":"item_title",children:r})}),Object(f.jsx)("div",{className:"card-text",id:"itemDescription",children:Object(f.jsx)("p",{"data-cy":"item_description",children:s})})]}),Object(f.jsxs)("div",{className:"card-footer",children:[Object(f.jsxs)("div",{className:"wcf-left",children:["/items"!==h?Object(f.jsx)("button",{onClick:_,"data-cy":"add_cartitem_button",children:Object(f.jsx)(P.a,{})}):"","/items"===h?Object(f.jsx)("button",{onClick:y,"data-cy":"item_remove_button",children:Object(f.jsx)(P.b,{})}):""]}),Object(f.jsx)("div",{className:"wcf-right",children:Object(f.jsxs)("div",{className:"price-tag",children:["\u20ac",i]})})]})]})})}function q(){var e=Object(n.useContext)(x),t=e.getItemsOfType,r=e.loading,c=e.error,a=Object(L.h)().pathname,s=Object(n.useState)([]),i=Object(l.a)(s,2),b=i[0],d=i[1],j=Object(n.useCallback)(Object(o.a)(u.a.mark((function e(){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t(a.substring(1));case 3:r=e.sent,d(r),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[t,a,d]);return Object(n.useEffect)((function(){j()}),[j]),r?Object(f.jsx)("h1",{children:"Loading..."}):c?Object(f.jsx)("pre",{className:"text-red-600",children:c.message}):b?0===b.length?Object(f.jsx)("h1",{children:"Momenteel niets in stock"}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("br",{}),Object(f.jsx)("div",{className:"grid grid-cols-4",children:b.map((function(e){return Object(f.jsx)(B,Object(D.a)({},e),e.id)}))})]}):null}r(102);function M(){return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("h1",{children:["Van harte welkom iedereen",Object(f.jsx)("br",{}),"Hier worden alle kleine dingen gemaakt: sieraden, beelden, kaarsen, geschenken, ..."]}),Object(f.jsx)("img",{src:"https://firebasestorage.googleapis.com/v0/b/mijnwebapp-40676.appspot.com/o/images%2FWelkom.jpg?alt=media&token=815f055b-aefd-4863-b919-b894673a1d43",alt:"Welkom"}),Object(f.jsx)("p",{children:"Geniet van alle kleine dingen in het leven, meer hebben we niet nodig."})]})}function V(){var e=Object(n.useContext)(x),t=e.items,r=e.error;return e.loading?Object(f.jsx)("h1",{children:"Loading..."}):r?Object(f.jsx)("pre",{className:"text-red-600",children:r.message}):t?Object(f.jsx)(f.Fragment,{children:t.map((function(e){return Object(f.jsx)(B,Object(D.a)({},e),e.id)}))}):null}var z=r(18),H=r(33),J=function(e){var t=e.label,r=e.type,n=e.defaultValue,c=e.validation,a=Object(H.a)(e,["label","type","defaultValue","validation"]),s=Object(z.c)(),i=s.register,u=s.errors;return Object(f.jsxs)("div",{className:"col-span-6 sm:col-span-3",children:[Object(f.jsx)("label",{htmlFor:t,children:t.charAt(0).toUpperCase()+t.slice(1)}),Object(f.jsx)("input",Object(D.a)(Object(D.a)({},i(t,c)),{},{defaultValue:n,placeholder:t,type:r,id:t,name:t},a)),u[t]&&Object(f.jsx)("p",{className:"text-red-600 text-2xl",children:u[t].message})]})},K=function(e){var t=e.label,r=e.options,n=e.validation,c=Object(H.a)(e,["label","options","validation"]),a=Object(z.c)(),s=a.register,i=a.errors;return Object(f.jsxs)("div",{className:"col-span-6 sm:col-span-3",children:[Object(f.jsx)("label",{htmlFor:t,children:t.charAt(0).toUpperCase()+t.slice(1)}),Object(f.jsxs)("select",Object(D.a)(Object(D.a)(Object(D.a)({},s(t,n)),c),{},{id:t,name:t,children:[Object(f.jsxs)("option",{value:"",children:["--kies een ",t,"--"]}),r.map((function(e){return Object(f.jsx)("option",{value:e,children:e},e)}))]})),i[t]&&Object(f.jsx)("p",{className:"text-red-600 text-2xl",children:i[t].message})]})},Z=r(64),G=r(34),Y=r(21),$={apiKey:Object({NODE_ENV:"production",PUBLIC_URL:"/webapp-frontend",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BACKEND_BASE_URL:"https://naessensr-webapp.herokuapp.com/api/"}).REACT_APP_FIREBASE_API_KEY,authDomain:Y.firebase_auth_domain,projectId:Y.firebase_project_id,storageBucket:Y.firebase_storage_bucket,messagingSenderId:Y.firebase_messaging_sender_id,appId:Y.firebase_app_id},Q=Object(Z.a)($),X=Object(G.b)(Q),ee=(r(103),{title:{required:"Dit veld is vereist"},image:{required:"Dit veld is vereist"},type:{required:"Dit veld is vereist"},price:{valueAsNumber:!0,required:"Dit veld is vereist",min:{value:1,message:"Minimum \u20ac1"},max:{value:5e3,message:"Maximum \u20ac5000"}}});function te(){var e,t=Object(L.g)(),r=Object(z.b)(),c=r.register,a=r.handleSubmit,s=r.reset,i=r.formState.errors,b=r.setValue,d=Object(n.useState)(0),j=Object(l.a)(d,2),p=j[0],O=j[1],h=Object(n.useState)(""),m=Object(l.a)(h,2),v=m[0],g=m[1],w=Object(n.useContext)(x),k=w.currentItem,_=w.setItemToUpdate,C=w.createOrUpdateItem,S=Object(n.useContext)(y).types,N=S.map((function(e){return e.title}));Object(n.useEffect)((function(){!k||0===Object.keys(k).length&&k.constructor===Object?s():(b("title",k.title),b("type",k.type.title),b("image",k.imagesrc),b("price",k.price))}),[k,b,s]);var I=Object(n.useCallback)(function(){var r=Object(o.a)(u.a.mark((function r(n){return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return console.log("Submit data = ".concat(JSON.stringify(n),", currentItem = ").concat(JSON.stringify(k))),r.prev=1,r.next=4,C({title:n.title,imagesrc:e||"noSource",typeId:S.find((function(e){return e.title===n.type})).id,description:n.description,price:n.price});case 4:_(null),t.push("/items"),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(1),console.error(r.t0);case 11:case"end":return r.stop()}}),r,null,[[1,8]])})));return function(e){return r.apply(this,arguments)}}(),[C,k,_,t,S]),E=Object(n.useCallback)((function(t){var r=Object(G.c)(X,"images/".concat(t.name)),n=Object(G.d)(r,t);n.on("state_changed",(function(e){var t=Math.round(e.bytesTransferred/e.totalBytes*100);O(t)}),(function(e){console.log(e)}),(function(){Object(G.a)(n.snapshot.ref).then((function(t){t&&(g(t),e=t,document.querySelector("[for=p]").value=100)}))}))}),[g]);return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)("div",{id:"formId",children:Object(f.jsx)("div",{className:"form-wrapper",children:Object(f.jsxs)(z.a,{handleSubmit:a,errors:i,register:c,children:[Object(f.jsx)("h1",{children:"Voeg een nieuw item toe"}),Object(f.jsxs)("form",{onSubmit:a(I),children:[Object(f.jsx)(J,{label:"title",type:"text",defaultValue:"",validation:ee.title,"data-cy":"title_input"}),Object(f.jsx)(K,{label:"type",options:N,validation:ee.type,"data-cy":"type_input"}),Object(f.jsx)(J,{label:"description",type:"text","data-cy":"description_input"}),Object(f.jsx)(J,{label:"image",type:"file",onChange:function(e){e.target.files[0]&&E(e.target.files[0])},validation:ee.image,"data-cy":"image_input"}),Object(f.jsx)("br",{}),Object(f.jsxs)("div",{id:"loader",children:[Object(f.jsx)("progress",{id:"p",value:p,max:"100"}),Object(f.jsx)("output",{for:"p"})]}),Object(f.jsx)("br",{}),v?Object(f.jsx)("img",{src:v,id:"imgPreview"}):"",Object(f.jsx)(J,{label:"price",type:"number",defaultValue:"0",step:"0.01",validation:ee.price,"data-cy":"price_input"}),Object(f.jsx)("button",{id:"submitButton",type:"submit",className:"btn btn-primary","data-cy":"submit_button",children:"Voeg toe"})]})]})})})})}function re(){var e=Object(L.h)().pathname;return Object(f.jsx)("div",{className:"text-red-600 font-extrabold text-3xl",children:Object(f.jsxs)("p",{children:["De webpagina met als url ",e," bestaat niet."]})})}r(104);var ne=r(65);r(105);function ce(){var e=Object(m.e)().user,t=A(),r=t.getOrderWithUserId,c=t.createOrUpdateOrder,a=Object(n.useState)([]),s=Object(l.a)(a,2),i=s[0],b=s[1],d=Object(n.useState)(0),j=Object(l.a)(d,2),p=j[0],O=j[1],h=function(){var t=Object(o.a)(u.a.mark((function t(){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r(e.id);case 2:(n=t.sent)&&(b(n.items),O(n.items.length));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(n.useEffect)((function(){e&&h()}),[e]);var x=Object(n.useCallback)(function(){var t=Object(o.a)(u.a.mark((function t(n){var a,s;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r(e.id);case 2:return a=t.sent,s=a.items,b(a.items),s.splice(n,1),O(s.length),t.next=9,c({id:null===a||void 0===a?void 0:a.id,userId:e.id,items:JSON.stringify(s)});case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[O,c]),v=Object(n.useCallback)((function(){return i?i.reduce((function(e,t){return e+Number(t.price)}),0).toFixed(2):0}),[i]);return 0===i.length?Object(f.jsx)("h1",{children:"Uw winkelkar is momenteel nog leeg."}):Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{id:"winkelkarPage",children:[Object(f.jsxs)("h1",{children:["Huidige bestelling: ",p," item(s)"]}),Object(f.jsxs)("p",{children:["Totaal: \u20ac",v()]}),Object(f.jsx)("div",{children:Object(f.jsx)(U.b,{to:"/bestelling",children:Object(f.jsx)("button",{id:"bestelBtn","data-cy":"bestel_btn",children:"Bestellen"})})}),Object(f.jsx)("div",{className:"containerWinkelwagen",children:i?i.map((function(e,t){return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:"gridItem","data-cy":"winkelkar_item",children:[Object(f.jsx)("h2",{children:e.title}),Object(f.jsx)("img",{src:e.imagesrc,alt:e.title}),Object(f.jsx)("div",{className:"itemFooter",children:Object(f.jsxs)("p",{children:["Prijs: \u20ac",e.price,Object(f.jsx)("br",{}),Object(f.jsx)("button",{onClick:function(){x(t)},children:"Verwijder"})]})})]})})})):""})]})})}r(106);function ae(){var e=Object(L.g)(),t=Object(m.e)(),r=t.loading,c=t.error,a=t.isAuthed,s=t.setError,i=Object(m.b)(),l=Object(m.d)(),b=Object(z.b)(),d=Object(z.b)(),j=b.handleSubmit,p=b.reset,O=b.register,h=d.handleSubmit,x=d.reset,v=d.register,g=d.getValues;Object(n.useEffect)((function(){a&&e.replace("/"),c&&(W()({title:"Error",text:c,icon:"error"}),s(""))}),[a,e,c]);var w=Object(n.useCallback)(function(){var t=Object(o.a)(u.a.mark((function t(r){var n,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.email,c=r.password,t.prev=1,t.next=4,i(n,c);case 4:t.sent&&e.replace("/"),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),W()("Error","Er is een fout opgetreden, probeert u het later opnieuw","error"),console.error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}(),[i,e]),k=Object(n.useCallback)(function(){var t=Object(o.a)(u.a.mark((function t(r){var n,c,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.name,c=r.email,a=r.password,t.prev=1,t.next=4,l({name:n,email:c,password:a});case 4:t.sent&&e.replace("/"),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0),W()("Error","Er is een fout opgetreden, probeert u het later opnieuw","error");case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}(),[e,l]),y=Object(n.useCallback)((function(){p()}),[p]),_=Object(n.useCallback)((function(){x()}),[x]);return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)("div",{id:"loginform",children:Object(f.jsxs)("div",{className:"cont",children:[Object(f.jsx)(z.a,Object(D.a)(Object(D.a)({},b),{},{children:Object(f.jsx)("form",{onSubmit:j(w),children:Object(f.jsxs)("div",{className:"form sign-in",children:[Object(f.jsx)("h2",{children:"Welkom terug!"}),Object(f.jsxs)("label",{htmlFor:"email",children:[Object(f.jsx)("span",{children:"Email"}),Object(f.jsx)("input",Object(D.a)(Object(D.a)({type:"email"},O("email")),{},{required:!0,"data-cy":"email_input"}))]}),Object(f.jsxs)("label",{htmlFor:"password",children:[Object(f.jsx)("span",{children:"Wachtwoord"}),Object(f.jsx)("input",Object(D.a)(Object(D.a)({type:"password"},O("password")),{},{required:!0,"data-cy":"password_input"}))]}),Object(f.jsx)("button",{type:"submit",disabled:r,className:"submit","data-cy":"submit_btn",children:"Log In"}),Object(f.jsx)("button",{type:"reset",className:"submit",onClick:y,children:"Annuleer"})]})},1)})),Object(f.jsxs)("div",{className:"sub-cont",children:[Object(f.jsxs)("div",{className:"img",children:[Object(f.jsxs)("div",{className:"img__text m--up",children:[Object(f.jsx)("h2",{children:"Nieuw hier?"}),Object(f.jsx)("p",{children:"Schrijf je in en ontdek een groot aantal nieuwe mogelijkheden!"})]}),Object(f.jsxs)("div",{className:"img__text m--in",children:[Object(f.jsx)("h2",{children:"Een van ons?"}),Object(f.jsx)("p",{children:"Als je al een account hebt, log dan in. We hebben je gemist!"})]}),Object(f.jsxs)("div",{className:"img__btn",onClick:function(){document.querySelector(".cont").classList.toggle("s--signup")},children:[Object(f.jsx)("span",{className:"m--up",children:"Registreer"}),Object(f.jsx)("span",{className:"m--in",children:"Log In"})]})]}),Object(f.jsx)(z.a,Object(D.a)(Object(D.a)({},d),{},{children:Object(f.jsx)("form",{onSubmit:h(k),children:Object(f.jsxs)("div",{className:"form sign-up",children:[Object(f.jsx)("h2",{children:"Tijd om je thuis te voelen"}),Object(f.jsxs)("label",{htmlFor:"name",children:[Object(f.jsx)("span",{children:"Naam"}),Object(f.jsx)("input",Object(D.a)(Object(D.a)({type:"text"},v("name",{validate:{validName:function(e){var t=g("name"),r=new RegExp(/^[a-zA-Z]+[ -_'a-zA-Z]*[a-zA-Z]+$/);return r.test(t)||W()("Error","Ongeldige gebruikersnaam","error"),r.test(t)}}})),{},{required:!0}))]}),Object(f.jsxs)("label",{htmlFor:"email",children:[Object(f.jsx)("span",{children:"Email"}),Object(f.jsx)("input",Object(D.a)(Object(D.a)({type:"email"},v("email")),{},{required:!0}))]}),Object(f.jsxs)("label",{htmlFor:"password",children:[Object(f.jsx)("span",{children:"Wachtwoord"}),Object(f.jsx)("input",Object(D.a)(Object(D.a)({type:"password"},v("password")),{},{required:!0}))]}),Object(f.jsxs)("label",{htmlFor:"confirmPassword",children:[Object(f.jsx)("span",{children:"Bevestig wachtwoord"}),Object(f.jsx)("input",Object(D.a)(Object(D.a)({type:"password"},v("confirmPassword",{validate:{notIdentical:function(e){var t=g("password");return t!==e&&W()("Error","Wachtwoorden moeten hetzelfde zijn","error"),t===e?null:""}}})),{},{required:!0}))]}),Object(f.jsx)("button",{type:"submit",className:"submit",children:"Registreer"}),Object(f.jsx)("button",{type:"reset",className:"submit",onClick:_,children:"Annuleer"})]})},2)}))]})]})})})}function se(e){var t=e.children,r=e.role,c=Object(H.a)(e,["children","role"]),a=Object(m.e)(),s=a.isAuthed,i=a.hasRole,u=Object(L.h)().pathname,o=Object(n.useMemo)((function(){return r?s&&i(r):s}),[s,r,i]);return Object(f.jsx)(L.b,Object(D.a)(Object(D.a)({},c),{},{children:o?t:Object(f.jsx)(L.a,{from:u,to:"/login"})}))}var ie=r(13),ue=r(66),oe=r(44),le=r.n(oe),be=(r(114),{adres:{required:"Dit veld is vereist"},gemeente:{required:"Dit veld is vereist"},postcode:{valueAsNumber:!0,required:"Dit veld is vereist",min:{value:1e3,message:"Minimum 1000"},max:{value:9999,message:"Maximum 9999"}}}),de=Y.email_service_token,je=Y.email_template_token,pe=Y.email_user_token;function Oe(){var e=Object(L.g)(),t=Object(m.e)().user,r=A(),c=r.currentOrder,a=r.deleteOrder,s=Object(z.b)(),i=s.register,b=s.handleSubmit,d=s.reset,j=s.formState.errors,p=s.setValue,O=Object(n.useState)(new Map),h=Object(l.a)(O,2),x=h[0],v=h[1],g=Object(n.useState)([]),w=Object(l.a)(g,2),k=w[0],y=w[1],_=Object(n.useCallback)((function(){var e,t=c.items,r=new Map;t&&t.forEach((function(e){r.get(e.id)?r.set(e.id,r.get(e.id)+1):r.set(e.id,1)})),v(r),y(Object(ie.a)(new Map(null===c||void 0===c||null===(e=c.items)||void 0===e?void 0:e.map((function(e){return[e.id,e]}))).values()))}),[c]),C=Object(n.useCallback)((function(){return(null===c||void 0===c?void 0:c.items)?c.items.reduce((function(e,t){return e+Number(t.price)}),0).toFixed(2):0}),[c]),S=Object(n.useCallback)((function(){Object(ue.a)(de,je,{from_name:"Robbert Naessens",to_name:t.name,send_to:t.email,message:"Dit is een testmessage. De bestelling werd succesvol ontvangen",reply_to:"robbertnaessens@gmail.com"},pe).then((function(e){console.log("SUCCESS!",e.status,e.text)})).catch((function(e){console.log("FAILED...",e)}))}),[t]),N=Object(n.useCallback)((function(){le()({title:"Laatste check",text:"Zijn al uw gegevens correct?",icon:"warning",buttons:["Annuleer","Bestel!"]}).then(function(){var t=Object(o.a)(u.a.mark((function t(r){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r)try{le()({title:"Gelukt",content:Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:"Uw bestelling werd goed ontvangen!"}),Object(f.jsx)("br",{}),"U ontvangt binnen enkele minuten een mail met bevestiging en verdere instructies."]}),icon:"success"}),S(),a(c.id),e.replace("/")}catch(n){console.error(n)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}),[e,t,c,a]);return Object(n.useEffect)((function(){_(),t?(p("naam",t.name),p("email",t.email)):d()}),[t,d,p,_]),Object(f.jsxs)("div",{id:"bestelPage",children:[Object(f.jsx)("h1",{children:"Uw bestelde items"}),Object(f.jsxs)("p",{children:["Totaal: \u20ac",C()]}),Object(f.jsx)("div",{className:"table-wrapper",children:Object(f.jsxs)("table",{className:"fl-table",children:[Object(f.jsx)("thead",{children:Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{children:"Item"}),Object(f.jsx)("th",{children:"Amount"}),Object(f.jsx)("th",{children:"Price"}),Object(f.jsx)("th",{})]})}),Object(f.jsx)("tbody",{"data-cy":"bestelling_tabel",children:null===k||void 0===k?void 0:k.map((function(e){return Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:e.title}),Object(f.jsxs)("td",{children:["x",x.get(e.id)]}),Object(f.jsxs)("td",{children:["\u20ac",x.get(e.id)*e.price]}),Object(f.jsx)("td",{children:Object(f.jsx)("button",{onClick:function(){return le()({title:e.title,content:Object(f.jsx)("img",{alt:e.title,src:e.imagesrc})})},children:"\ud83d\udd0d"})})]})}))})]})}),Object(f.jsx)("h1",{children:"Uw gegevens"}),Object(f.jsx)("div",{className:"form-wrapper",children:Object(f.jsx)(z.a,{handleSubmit:b,errors:j,register:i,children:Object(f.jsxs)("form",{onSubmit:b(N),children:[Object(f.jsx)(J,{label:"naam",type:"text",disabled:!0,"data-cy":"bestelling_naam"}),Object(f.jsx)(J,{label:"email",type:"text",disabled:!0,"data-cy":"bestelling_email"}),Object(f.jsx)(J,{label:"adres",type:"text",validation:be.adres,"data-cy":"bestelling_adres"}),Object(f.jsx)(J,{label:"postcode",type:"number",validation:be.postcode,"data-cy":"bestelling_postcode"}),Object(f.jsx)(J,{label:"gemeente",type:"text",validation:be.gemeente,"data-cy":"bestelling_gemeente"}),Object(f.jsx)("button",{type:"submit","data-cy":"bestelling_submit",children:"Bestel"})]})})})]})}var he=function(){var e=Object(n.useContext)(y).types,t=Object(m.e)(),r=t.user,c=t.isAuthed,a=t.hasRole,s=Object(m.c)(),i=Object(n.useCallback)((function(){s()}),[s]);return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{children:[Object(f.jsxs)("div",{className:"balk",children:[Object(f.jsx)("div",{className:"welkomUser",children:Object(f.jsxs)("p",{className:"welkomParagraaf",children:["Welkom ",r?r.name:"","!"]})}),c?Object(f.jsx)(f.Fragment,{children:Object(f.jsx)("div",{className:"linkLogin_Logout",children:Object(f.jsx)("button",{onClick:i,children:"Uitloggen"})})}):Object(f.jsx)(f.Fragment,{children:Object(f.jsx)("div",{className:"linkLogin_Logout",children:Object(f.jsxs)(U.b,{to:"/login",children:[" ",Object(f.jsx)("button",{children:"Login"})," "]})})})]}),Object(f.jsx)("div",{className:"mx-auto w-1/5",children:Object(f.jsx)(U.b,{to:"/welkom",children:Object(f.jsx)("img",{id:"logoImg",src:"https://firebasestorage.googleapis.com/v0/b/mijnwebapp-40676.appspot.com/o/images%2FHome.jpg?alt=media&token=d3c9e350-ff7b-477c-af68-cdb5db44d4f4",alt:"Home"})})}),Object(f.jsx)("div",{id:"navLinks",children:Object(f.jsxs)("ul",{id:"navigatie_ul",children:[Object(f.jsx)("li",{children:Object(f.jsx)(U.c,{activeStyle:{backgroundColor:"#c5eb9b"},to:"/welkom",children:"Welkom"})}),e.map((function(e){return Object(f.jsx)("li",{children:Object(f.jsx)(U.c,{activeStyle:{backgroundColor:"#c5eb9b"},to:"/items/type/".concat(e.title),children:e.title})},e.id)})),Object(f.jsx)("li",{children:Object(f.jsxs)(U.c,{activeStyle:{backgroundColor:"#c5eb9b"},to:"/winkelkar",children:["\xa0",Object(f.jsx)(P.a,{}),"\xa0"]})}),a("admin")?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("li",{children:Object(f.jsxs)(U.c,{activeStyle:{backgroundColor:"#c5eb9b"},to:"/items/add",children:["\xa0",Object(f.jsx)(ne.a,{}),"\xa0"]})}),Object(f.jsx)("li",{children:Object(f.jsx)(U.c,{to:"/items",children:"Items"})})]}):""]})})]}),Object(f.jsxs)(L.d,{children:[e.map((function(e){return Object(f.jsx)(L.b,{exact:!0,path:"/items/type/".concat(e.title),children:Object(f.jsx)(q,{})},e.id)})),Object(f.jsx)(L.b,{exact:!0,path:"/welkom",children:Object(f.jsx)(M,{})}),Object(f.jsx)(L.b,{exact:!0,path:"/login",children:Object(f.jsx)(ae,{})}),Object(f.jsx)(L.b,{path:"/webapp-frontend",children:Object(f.jsx)(L.a,{to:"/welkom"})}),Object(f.jsx)(L.b,{path:"/",exact:!0,children:Object(f.jsx)(L.a,{to:"/welkom"})}),Object(f.jsx)(se,{exact:!0,path:"/items",children:Object(f.jsx)("div",{className:"grid grid-cols-4",children:Object(f.jsx)(V,{})})}),Object(f.jsx)(se,{exact:!0,path:"/items/add",children:Object(f.jsx)(te,{})}),Object(f.jsx)(se,{exact:!0,path:"/winkelkar",children:Object(f.jsx)(ce,{})}),Object(f.jsx)(se,{exact:!0,path:"/bestelling",children:Object(f.jsx)(Oe,{})}),Object(f.jsx)(L.b,{path:"*",children:Object(f.jsx)(re,{})})]})]})};r(115);var me=function(){return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{id:"main",children:Object(f.jsx)(m.a,{children:Object(f.jsx)(_,{children:Object(f.jsx)(v,{children:Object(f.jsx)(T,{children:Object(f.jsx)(he,{})})})})})}),Object(f.jsxs)("div",{className:"contact",children:[Object(f.jsx)("p",{className:"contact-c",children:"\xa9Robbert Naessens"}),Object(f.jsx)("p",{className:"contact-p",children:"Contact:"}),Object(f.jsxs)("p",{className:"contact-gegevens",children:["\ud83d\udcde+32 497 99 40 73",Object(f.jsx)("br",{}),"\u2709robbertnaessens@gmail.com"]})]})]})},fe=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,117)).then((function(t){var r=t.getCLS,n=t.getFID,c=t.getFCP,a=t.getLCP,s=t.getTTFB;r(e),n(e),c(e),a(e),s(e)}))};s.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsx)(U.a,{children:Object(f.jsx)(me,{})})}),document.getElementById("root")),fe()},14:function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return s}));var n=r(61),c=r.n(n),a=(r(21),c.a.create({baseURL:"https://naessensr-webapp.herokuapp.com/api/"})),s=function(e){e?a.defaults.headers.Authorization="Bearer ".concat(e):delete a.defaults.headers.Authorization}},15:function(e,t,r){"use strict";(function(e){r.d(t,"e",(function(){return m})),r.d(t,"b",(function(){return f})),r.d(t,"c",(function(){return x})),r.d(t,"d",(function(){return v})),r.d(t,"a",(function(){return g}));var n=r(3),c=r.n(n),a=r(4),s=r(5),i=r(2),u=r(43),o=r(14),l=r(21),b=r(1),d=l.token_key,j=Object(i.createContext)();function p(t){if(!t)return{};var r=t.split(".")[1],n=e.from(r,"base64").toString("ascii");return JSON.parse(n)}function O(e){return e?("number"!==typeof e&&(e=Number(e)),isNaN(e)?null:new Date(1e3*e)):null}var h=function(){return Object(i.useContext)(j)},m=function(){var e=h(),t=e.token,r=e.user,n=e.ready,c=e.loading,a=e.error,s=e.hasRole,i=e.setError;return{token:t,user:r,ready:n,error:a,loading:c,isAuthed:Boolean(t),hasRole:s,setError:i}},f=function(){return h().login},x=function(){return h().logout},v=function(){return h().register},g=function(e){var t=e.children,r=Object(i.useState)(!1),n=Object(s.a)(r,2),l=n[0],h=n[1],m=Object(i.useState)(!1),f=Object(s.a)(m,2),x=f[0],v=f[1],g=Object(i.useState)(""),w=Object(s.a)(g,2),k=w[0],y=w[1],_=Object(i.useState)(localStorage.getItem(d)),C=Object(s.a)(_,2),S=C[0],N=C[1],I=Object(i.useState)(null),E=Object(s.a)(I,2),F=E[0],A=E[1],T=Object(i.useCallback)(function(){var e=Object(a.a)(c.a.mark((function e(t,r){var n,a,s,i,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=p(t),a=n.exp,s=n.userId,i=O(a),(l=i>=new Date)?localStorage.setItem(d,t):(localStorage.removeItem(d),t=null),o.b(t),N(t),h(t&&l),r||!l){e.next=11;break}return e.next=10,u.a(s);case 10:r=e.sent;case 11:A(r);case 12:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),[]);Object(i.useEffect)((function(){T(S)}),[S,T]);var U=Object(i.useCallback)(function(){var e=Object(a.a)(c.a.mark((function e(t,r){var n,a,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,v(!0),y(""),e.next=5,u.b(t,r);case 5:return n=e.sent,a=n.token,s=n.user,e.next=10,T(a,s);case 10:return e.abrupt("return",!0);case 13:return e.prev=13,e.t0=e.catch(0),console.error(e.t0),y("Inloggen mislukt, probeert u het later opnieuw"),e.abrupt("return",!1);case 18:return e.prev=18,v(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[0,13,18,21]])})));return function(t,r){return e.apply(this,arguments)}}(),[T]),D=Object(i.useCallback)(function(){var e=Object(a.a)(c.a.mark((function e(t){var r,n,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,v(!0),y(null),e.next=5,u.c(t);case 5:return r=e.sent,n=r.token,a=r.user,e.next=10,T(n,a);case 10:return e.abrupt("return",!0);case 13:return e.prev=13,e.t0=e.catch(0),y(e.t0),e.abrupt("return",!1);case 17:return e.prev=17,v(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[0,13,17,20]])})));return function(t){return e.apply(this,arguments)}}(),[T]),P=Object(i.useCallback)((function(){T(null,null)}),[T]),L=Object(i.useCallback)((function(e){return!!F&&F.roles.includes(e)}),[F]),R=Object(i.useMemo)((function(){return{token:S,user:F,ready:l,loading:x,error:k,login:U,logout:P,register:D,hasRole:L,setError:y}}),[S,F,l,x,k,U,P,D,L,y]);return Object(b.jsx)(j.Provider,{value:R,children:t})}}).call(this,r(91).Buffer)},21:function(e){e.exports=JSON.parse('{"base_url":"http://localhost:9000/api/","token_key":"auth_token","email_service_token":"service_4dpmohg","email_template_token":"template_xhwdowp","email_user_token":"user_L7V83l69Sl32odTrTHyqb","firebase_auth_domain":"mijnwebapp-40676.firebaseapp.com","firebase_project_id":"mijnwebapp-40676","firebase_storage_bucket":"mijnwebapp-40676.appspot.com","firebase_messaging_sender_id":"103384621222","firebase_app_id":"1:103384621222:web:b5b63d644cdcbde2171467"}')},43:function(e,t,r){"use strict";r.d(t,"b",(function(){return i})),r.d(t,"c",(function(){return u})),r.d(t,"a",(function(){return o}));var n=r(3),c=r.n(n),a=r(4),s=r(14),i=function(){var e=Object(a.a)(c.a.mark((function e(t,r){var n,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.post("users/login",{email:t,password:r});case 2:return n=e.sent,a=n.data,console.log("data = ".concat(a)),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),u=function(){var e=Object(a.a)(c.a.mark((function e(t){var r,n,a,i,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.name,n=t.email,a=t.password,e.next=3,s.a.post("users/register",{name:r,email:n,password:a});case 3:return i=e.sent,u=i.data,e.abrupt("return",u);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o=function(){var e=Object(a.a)(c.a.mark((function e(t){var r,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.get("users/".concat(t));case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},72:function(e,t,r){},96:function(e,t,r){}},[[116,1,2]]]);
//# sourceMappingURL=main.157d0244.chunk.js.map