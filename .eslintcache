[{"C:\\Users\\robbe\\Documents\\HOGent\\'21-'22\\FrontEnd\\Opdracht\\Front-End-Opdracht\\webapp\\Front-end\\src\\index.js":"1","C:\\Users\\robbe\\Documents\\HOGent\\'21-'22\\FrontEnd\\Opdracht\\Front-End-Opdracht\\webapp\\Front-end\\src\\reportWebVitals.js":"2","C:\\Users\\robbe\\Documents\\HOGent\\'21-'22\\FrontEnd\\Opdracht\\Front-End-Opdracht\\webapp\\Front-end\\src\\App.jsx":"3","C:\\Users\\robbe\\Documents\\HOGent\\'21-'22\\FrontEnd\\Opdracht\\Front-End-Opdracht\\webapp\\Front-end\\src\\mock-data.js":"4","C:\\Users\\robbe\\Documents\\HOGent\\'21-'22\\FrontEnd\\Opdracht\\Front-End-Opdracht\\webapp\\Front-end\\src\\components\\ItemForm.jsx":"5","C:\\Users\\robbe\\Documents\\HOGent\\'21-'22\\FrontEnd\\Opdracht\\Front-End-Opdracht\\webapp\\Front-end\\src\\components\\ItemList.jsx":"6","C:\\Users\\robbe\\Documents\\HOGent\\'21-'22\\FrontEnd\\Opdracht\\Front-End-Opdracht\\webapp\\Front-end\\src\\components\\Item.jsx":"7","C:\\Users\\robbe\\Documents\\HOGent\\'21-'22\\FrontEnd\\Opdracht\\Front-End-Opdracht\\webapp\\Front-end\\src\\components\\LabelInput.jsx":"8","C:\\Users\\robbe\\Documents\\HOGent\\'21-'22\\FrontEnd\\Opdracht\\Front-End-Opdracht\\webapp\\Front-end\\src\\components\\LabelSelect.jsx":"9","C:\\Users\\robbe\\Documents\\HOGent\\'21-'22\\FrontEnd\\Opdracht\\Front-End-Opdracht\\webapp\\Front-end\\src\\hooks\\useFetch.js":"10","C:\\Users\\robbe\\Documents\\HOGent\\'21-'22\\FrontEnd\\Opdracht\\Front-End-Opdracht\\webapp\\Front-end\\src\\contexts\\ItemsProvider.js":"11","C:\\Users\\robbe\\Documents\\HOGent\\'21-'22\\FrontEnd\\Opdracht\\Front-End-Opdracht\\webapp\\Front-end\\src\\components\\Navigatie.jsx":"12","C:\\Users\\robbe\\Documents\\HOGent\\'21-'22\\FrontEnd\\Opdracht\\Front-End-Opdracht\\webapp\\Front-end\\src\\contexts\\TypesProvider.js":"13","C:\\Users\\robbe\\Documents\\HOGent\\'21-'22\\FrontEnd\\Opdracht\\Front-End-Opdracht\\webapp\\Front-end\\src\\pages\\Welkom.jsx":"14","C:\\Users\\robbe\\Documents\\HOGent\\'21-'22\\FrontEnd\\Opdracht\\Front-End-Opdracht\\webapp\\Front-end\\src\\pages\\ItemPage.jsx":"15","C:\\Users\\robbe\\Documents\\HOGent\\'21-'22\\FrontEnd\\Opdracht\\Front-End-Opdracht\\webapp\\Front-end\\src\\pages\\NotFoundPage.jsx":"16","C:\\Users\\robbe\\Documents\\HOGent\\'21-'22\\FrontEnd\\Opdracht\\Front-End-Opdracht\\webapp\\Front-end\\src\\components\\FileUploader.jsx":"17","C:\\Users\\robbe\\Documents\\HOGent\\'21-'22\\FrontEnd\\Opdracht\\Front-End-Opdracht\\webapp\\Front-end\\src\\pages\\WinkelkarPage.jsx":"18","C:\\Users\\robbe\\Documents\\HOGent\\'21-'22\\FrontEnd\\Opdracht\\Front-End-Opdracht\\webapp\\Front-end\\src\\pages\\LogInPage.jsx":"19","C:\\Users\\robbe\\Documents\\HOGent\\'21-'22\\FrontEnd\\Opdracht\\Front-End-Opdracht\\webapp\\Front-end\\src\\contexts\\AuthProvider.jsx":"20","C:\\Users\\robbe\\Documents\\HOGent\\'21-'22\\FrontEnd\\Opdracht\\Front-End-Opdracht\\webapp\\Front-end\\src\\api\\items.js":"21","C:\\Users\\robbe\\Documents\\HOGent\\'21-'22\\FrontEnd\\Opdracht\\Front-End-Opdracht\\webapp\\Front-end\\src\\api\\types.js":"22","C:\\Users\\robbe\\Documents\\HOGent\\'21-'22\\FrontEnd\\Opdracht\\Front-End-Opdracht\\webapp\\Front-end\\src\\api\\users.js":"23","C:\\Users\\robbe\\Documents\\HOGent\\'21-'22\\FrontEnd\\Opdracht\\Front-End-Opdracht\\webapp\\Front-end\\src\\api\\index.js":"24","C:\\Users\\robbe\\Documents\\HOGent\\'21-'22\\FrontEnd\\Opdracht\\Front-End-Opdracht\\webapp\\Front-end\\src\\components\\PrivateRoute.jsx":"25","C:\\Users\\robbe\\Documents\\HOGent\\'21-'22\\FrontEnd\\Opdracht\\Front-End-Opdracht\\webapp\\Front-end\\src\\firebase\\index.js":"26","C:\\Users\\robbe\\Documents\\HOGent\\'21-'22\\FrontEnd\\Opdracht\\Front-End-Opdracht\\webapp\\Front-end\\src\\contexts\\OrdersProvider.jsx":"27","C:\\Users\\robbe\\Documents\\HOGent\\'21-'22\\FrontEnd\\Opdracht\\Front-End-Opdracht\\webapp\\Front-end\\src\\api\\orders.js":"28","C:\\Users\\robbe\\Documents\\HOGent\\'21-'22\\FrontEnd\\Opdracht\\Front-End-Opdracht\\webapp\\Front-end\\src\\pages\\BestellingPage.jsx":"29","C:\\Users\\robbe\\Documents\\GitHub\\webapp-frontend\\src\\index.js":"30","C:\\Users\\robbe\\Documents\\GitHub\\webapp-frontend\\src\\reportWebVitals.js":"31","C:\\Users\\robbe\\Documents\\GitHub\\webapp-frontend\\src\\App.jsx":"32","C:\\Users\\robbe\\Documents\\GitHub\\webapp-frontend\\src\\contexts\\ItemsProvider.js":"33","C:\\Users\\robbe\\Documents\\GitHub\\webapp-frontend\\src\\contexts\\TypesProvider.js":"34","C:\\Users\\robbe\\Documents\\GitHub\\webapp-frontend\\src\\contexts\\AuthProvider.jsx":"35","C:\\Users\\robbe\\Documents\\GitHub\\webapp-frontend\\src\\contexts\\OrdersProvider.jsx":"36","C:\\Users\\robbe\\Documents\\GitHub\\webapp-frontend\\src\\components\\Navigatie.jsx":"37","C:\\Users\\robbe\\Documents\\GitHub\\webapp-frontend\\src\\api\\types.js":"38","C:\\Users\\robbe\\Documents\\GitHub\\webapp-frontend\\src\\api\\users.js":"39","C:\\Users\\robbe\\Documents\\GitHub\\webapp-frontend\\src\\api\\orders.js":"40","C:\\Users\\robbe\\Documents\\GitHub\\webapp-frontend\\src\\api\\items.js":"41","C:\\Users\\robbe\\Documents\\GitHub\\webapp-frontend\\src\\components\\ItemList.jsx":"42","C:\\Users\\robbe\\Documents\\GitHub\\webapp-frontend\\src\\components\\ItemForm.jsx":"43","C:\\Users\\robbe\\Documents\\GitHub\\webapp-frontend\\src\\components\\PrivateRoute.jsx":"44","C:\\Users\\robbe\\Documents\\GitHub\\webapp-frontend\\src\\pages\\NotFoundPage.jsx":"45","C:\\Users\\robbe\\Documents\\GitHub\\webapp-frontend\\src\\pages\\ItemPage.jsx":"46","C:\\Users\\robbe\\Documents\\GitHub\\webapp-frontend\\src\\pages\\Welkom.jsx":"47","C:\\Users\\robbe\\Documents\\GitHub\\webapp-frontend\\src\\pages\\BestellingPage.jsx":"48","C:\\Users\\robbe\\Documents\\GitHub\\webapp-frontend\\src\\pages\\WinkelkarPage.jsx":"49","C:\\Users\\robbe\\Documents\\GitHub\\webapp-frontend\\src\\pages\\LogInPage.jsx":"50","C:\\Users\\robbe\\Documents\\GitHub\\webapp-frontend\\src\\api\\index.js":"51","C:\\Users\\robbe\\Documents\\GitHub\\webapp-frontend\\src\\components\\Item.jsx":"52","C:\\Users\\robbe\\Documents\\GitHub\\webapp-frontend\\src\\components\\LabelInput.jsx":"53","C:\\Users\\robbe\\Documents\\GitHub\\webapp-frontend\\src\\components\\LabelSelect.jsx":"54","C:\\Users\\robbe\\Documents\\GitHub\\webapp-frontend\\src\\firebase\\index.js":"55"},{"size":593,"mtime":1636468407387,"results":"56","hashOfConfig":"57"},{"size":362,"mtime":1632833486142,"results":"58","hashOfConfig":"57"},{"size":995,"mtime":1639334514875,"results":"59","hashOfConfig":"57"},{"size":377,"mtime":1635868320835,"results":"60","hashOfConfig":"57"},{"size":6146,"mtime":1640084318240,"results":"61","hashOfConfig":"57"},{"size":595,"mtime":1640084339940,"results":"62","hashOfConfig":"57"},{"size":3579,"mtime":1640084222275,"results":"63","hashOfConfig":"57"},{"size":797,"mtime":1640005289355,"results":"64","hashOfConfig":"57"},{"size":911,"mtime":1640084369615,"results":"65","hashOfConfig":"57"},{"size":651,"mtime":1636196208750,"results":"66","hashOfConfig":"57"},{"size":3343,"mtime":1640005810618,"results":"67","hashOfConfig":"57"},{"size":4709,"mtime":1640014763671,"results":"68","hashOfConfig":"57"},{"size":2419,"mtime":1640005898290,"results":"69","hashOfConfig":"57"},{"size":458,"mtime":1640007684961,"results":"70","hashOfConfig":"57"},{"size":1210,"mtime":1640007249802,"results":"71","hashOfConfig":"57"},{"size":331,"mtime":1640007675712,"results":"72","hashOfConfig":"57"},{"size":3643,"mtime":1637251217934,"results":"73","hashOfConfig":"57"},{"size":2993,"mtime":1640007900266,"results":"74","hashOfConfig":"57"},{"size":7618,"mtime":1640176393177,"results":"75","hashOfConfig":"57"},{"size":4021,"mtime":1640176429948,"results":"76","hashOfConfig":"57"},{"size":804,"mtime":1639145379287,"results":"77","hashOfConfig":"57"},{"size":439,"mtime":1638545043482,"results":"78","hashOfConfig":"57"},{"size":529,"mtime":1640022701108,"results":"79","hashOfConfig":"57"},{"size":385,"mtime":1640286306436,"results":"80","hashOfConfig":"57"},{"size":705,"mtime":1640005481250,"results":"81","hashOfConfig":"57"},{"size":912,"mtime":1640179617312,"results":"82","hashOfConfig":"57"},{"size":3433,"mtime":1640084124709,"results":"83","hashOfConfig":"57"},{"size":718,"mtime":1639146084374,"results":"84","hashOfConfig":"57"},{"size":6947,"mtime":1640083714418,"results":"85","hashOfConfig":"57"},{"size":593,"mtime":1636468407387,"results":"86","hashOfConfig":"87"},{"size":362,"mtime":1632833486142,"results":"88","hashOfConfig":"87"},{"size":995,"mtime":1639334514875,"results":"89","hashOfConfig":"87"},{"size":3343,"mtime":1640005810618,"results":"90","hashOfConfig":"87"},{"size":2419,"mtime":1640005898290,"results":"91","hashOfConfig":"87"},{"size":4021,"mtime":1640176429948,"results":"92","hashOfConfig":"87"},{"size":3433,"mtime":1640084124709,"results":"93","hashOfConfig":"87"},{"size":4709,"mtime":1640014763671,"results":"94","hashOfConfig":"87"},{"size":439,"mtime":1638545043482,"results":"95","hashOfConfig":"87"},{"size":529,"mtime":1640022701108,"results":"96","hashOfConfig":"87"},{"size":718,"mtime":1639146084374,"results":"97","hashOfConfig":"87"},{"size":804,"mtime":1639145379287,"results":"98","hashOfConfig":"87"},{"size":595,"mtime":1640084339940,"results":"99","hashOfConfig":"87"},{"size":6146,"mtime":1640084318240,"results":"100","hashOfConfig":"87"},{"size":705,"mtime":1640005481250,"results":"101","hashOfConfig":"87"},{"size":331,"mtime":1640007675712,"results":"102","hashOfConfig":"87"},{"size":1210,"mtime":1640007249802,"results":"103","hashOfConfig":"87"},{"size":458,"mtime":1640007684961,"results":"104","hashOfConfig":"87"},{"size":6947,"mtime":1640083714418,"results":"105","hashOfConfig":"87"},{"size":2993,"mtime":1640007900266,"results":"106","hashOfConfig":"87"},{"size":7618,"mtime":1640176393177,"results":"107","hashOfConfig":"87"},{"size":385,"mtime":1640286306436,"results":"108","hashOfConfig":"87"},{"size":3579,"mtime":1640084222275,"results":"109","hashOfConfig":"87"},{"size":797,"mtime":1640005289355,"results":"110","hashOfConfig":"87"},{"size":911,"mtime":1640084369615,"results":"111","hashOfConfig":"87"},{"size":912,"mtime":1640179617312,"results":"112","hashOfConfig":"87"},{"filePath":"113","messages":"114","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"115"},"twktvp",{"filePath":"116","messages":"117","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"115"},{"filePath":"118","messages":"119","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"115"},{"filePath":"120","messages":"121","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"122","messages":"123","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"124"},{"filePath":"125","messages":"126","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"127","messages":"128","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"129"},{"filePath":"130","messages":"131","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"115"},{"filePath":"132","messages":"133","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"134","messages":"135","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"136"},{"filePath":"137","messages":"138","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"115"},{"filePath":"139","messages":"140","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"115"},{"filePath":"141","messages":"142","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"115"},{"filePath":"143","messages":"144","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"115"},{"filePath":"145","messages":"146","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"115"},{"filePath":"147","messages":"148","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"115"},{"filePath":"149","messages":"150","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"151"},{"filePath":"152","messages":"153","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"154","usedDeprecatedRules":"115"},{"filePath":"155","messages":"156","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"157"},{"filePath":"158","messages":"159","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"160","messages":"161","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"115"},{"filePath":"162","messages":"163","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"115"},{"filePath":"164","messages":"165","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"115"},{"filePath":"166","messages":"167","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"168","messages":"169","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"115"},{"filePath":"170","messages":"171","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"172","messages":"173","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"174","messages":"175","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"115"},{"filePath":"176","messages":"177","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"178"},{"filePath":"179","messages":"180","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"js5q81",{"filePath":"181","messages":"182","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"183","messages":"184","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"185","messages":"186","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"187","messages":"188","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"189","messages":"190","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"191","messages":"192","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"193","messages":"194","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"195","messages":"196","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"197","messages":"198","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"199","messages":"200","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"201","messages":"202","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"203","messages":"204","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"205","messages":"206","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"124"},{"filePath":"207","messages":"208","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"209","messages":"210","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"211","messages":"212","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"213","messages":"214","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"215","messages":"216","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"178"},{"filePath":"217","messages":"218","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"154"},{"filePath":"219","messages":"220","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"157"},{"filePath":"221","messages":"222","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"223","messages":"224","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"129"},{"filePath":"225","messages":"226","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"227","messages":"228","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"229","messages":"230","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\robbe\\Documents\\HOGent\\'21-'22\\FrontEnd\\Opdracht\\Front-End-Opdracht\\webapp\\Front-end\\src\\index.js",[],["231","232"],"C:\\Users\\robbe\\Documents\\HOGent\\'21-'22\\FrontEnd\\Opdracht\\Front-End-Opdracht\\webapp\\Front-end\\src\\reportWebVitals.js",[],"C:\\Users\\robbe\\Documents\\HOGent\\'21-'22\\FrontEnd\\Opdracht\\Front-End-Opdracht\\webapp\\Front-end\\src\\App.jsx",[],"C:\\Users\\robbe\\Documents\\HOGent\\'21-'22\\FrontEnd\\Opdracht\\Front-End-Opdracht\\webapp\\Front-end\\src\\mock-data.js",[],"C:\\Users\\robbe\\Documents\\HOGent\\'21-'22\\FrontEnd\\Opdracht\\Front-End-Opdracht\\webapp\\Front-end\\src\\components\\ItemForm.jsx",["233","234","235","236"],"import React, { useCallback, useContext, useEffect, useState } from \"react\";\r\nimport { FormProvider, useForm } from \"react-hook-form\";\r\nimport LabelInput from \"./LabelInput\";\r\nimport LabelSelect from \"./LabelSelect\";\r\nimport { useItems } from \"../contexts/ItemsProvider\";\r\nimport { TypesContext } from \"../contexts/TypesProvider.js\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { useHistory } from \"react-router\";\r\nimport { storage } from \"../firebase\";\r\nimport { ref, uploadBytesResumable, getDownloadURL } from \"firebase/storage\";\r\nimport \"../css/form.css\";\r\n\r\n//Formulier op nieuw item aan te maken. Er zijn ook al functies geschreven om items te veranderen,\r\n//maar deze worden nog niet geïmplementeerd omdat ik nog niet zeker weet of de klant ze effectief nodig heeft\r\n\r\nconst validationRules = {\r\n  title: { required: \"Dit veld is vereist\" },\r\n  image: { required: \"Dit veld is vereist\" },\r\n  type: { required: \"Dit veld is vereist\" },\r\n  price: {\r\n    valueAsNumber: true,\r\n    required: \"Dit veld is vereist\",\r\n    min: { value: 1, message: \"Minimum €1\" },\r\n    max: { value: 5000, message: \"Maximum €5000\" },\r\n  },\r\n};\r\n\r\nexport default function ItemForm() {\r\n  //const { id } = useParams();\r\n  const history = useHistory();\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    reset,\r\n    formState: { errors },\r\n    setValue,\r\n  } = useForm();\r\n  const [progress, setProgress] = useState(0);\r\n  const [url, setUrl] = useState(\"\");\r\n\r\n  const { currentItem, setItemToUpdate, createOrUpdateItem } = useItems();\r\n\r\n  const { types } = useContext(TypesContext);\r\n  const optionTypes = types.map((t) => t.title);\r\n  var laatsteUrl;\r\n\r\n  useEffect(() => {\r\n    //Functie om data van een te veranderen item in te laden\r\n\r\n    if (\r\n      // check on non-empty object\r\n      currentItem &&\r\n      (Object.keys(currentItem).length !== 0 ||\r\n        currentItem.constructor !== Object)\r\n    ) {\r\n      setValue(\"title\", currentItem.title);\r\n      setValue(\"type\", currentItem.type.title);\r\n      setValue(\"image\", currentItem.imagesrc);\r\n      setValue(\"price\", currentItem.price);\r\n    } else {\r\n      reset();\r\n    }\r\n  }, [currentItem, setValue, reset]);\r\n\r\n  const onSubmit = useCallback(\r\n    async (data) => {\r\n      console.log(\r\n        `Submit data = ${JSON.stringify(data)}, currentItem = ${JSON.stringify(\r\n          currentItem\r\n        )}`\r\n      );\r\n      try {\r\n        await createOrUpdateItem({\r\n          //momenteel worden enkel nieuwe items aangemaakt\r\n\r\n          //id: currentItem ? currentItem.id : \"\",\r\n          title: data.title,\r\n          imagesrc: laatsteUrl ? laatsteUrl : \"noSource\",\r\n          typeId: types.find((t) => t.title === data.type).id,\r\n          description: data.description,\r\n          price: data.price,\r\n        });\r\n        setItemToUpdate(null);\r\n        history.push(\"/items\");\r\n      } catch (error) {\r\n        console.error(error);\r\n      }\r\n    },\r\n    [createOrUpdateItem, currentItem, setItemToUpdate, history, types]\r\n  );\r\n\r\n  const handleFileChange = (e) => {\r\n    //Juiste image selecteren om up te loaden\r\n\r\n    if (e.target.files[0]) {\r\n      handleUpload(e.target.files[0]);\r\n    }\r\n  };\r\n\r\n  const handleUpload = useCallback(\r\n    (image) => {\r\n      //image uploaden naar Firebase\r\n\r\n      const storageRef = ref(storage, `images/${image.name}`);\r\n      const uploadTask = uploadBytesResumable(storageRef, image);\r\n      uploadTask.on(\r\n        \"state_changed\",\r\n        (snapshot) => {\r\n          const progress = Math.round(\r\n            (snapshot.bytesTransferred / snapshot.totalBytes) * 100\r\n          );\r\n          setProgress(progress);\r\n        },\r\n        (error) => {\r\n          console.log(error);\r\n        },\r\n        () => {\r\n          //image source link ophalen\r\n\r\n          getDownloadURL(uploadTask.snapshot.ref).then((downloadURL) => {\r\n            if (downloadURL) {\r\n              setUrl(downloadURL);\r\n              laatsteUrl = downloadURL;\r\n              document.querySelector(\"[for=p]\").value = 100;\r\n            }\r\n          });\r\n        }\r\n      );\r\n    },\r\n    [setUrl]\r\n  );\r\n\r\n  return (\r\n    //formulier weergeven\r\n    <>\r\n      <div id=\"formId\">\r\n        <div className=\"form-wrapper\">\r\n          <FormProvider\r\n            handleSubmit={handleSubmit}\r\n            errors={errors}\r\n            register={register}\r\n          >\r\n            <h1>Voeg een nieuw item toe</h1>\r\n            <form onSubmit={handleSubmit(onSubmit)}>\r\n              <LabelInput\r\n                label=\"title\"\r\n                type=\"text\"\r\n                defaultValue=\"\"\r\n                validation={validationRules.title}\r\n                data-cy=\"title_input\"\r\n              />\r\n              <LabelSelect\r\n                label=\"type\"\r\n                options={optionTypes}\r\n                validation={validationRules.type}\r\n                data-cy=\"type_input\"\r\n              />\r\n              <LabelInput\r\n                label=\"description\"\r\n                type=\"text\"\r\n                data-cy=\"description_input\"\r\n              />\r\n              <LabelInput\r\n                label=\"image\"\r\n                type=\"file\"\r\n                onChange={handleFileChange}\r\n                validation={validationRules.image}\r\n                data-cy=\"image_input\"\r\n              />\r\n              <br />\r\n              <div id=\"loader\">\r\n                <progress id=\"p\" value={progress} max=\"100\"></progress>\r\n                <output for=\"p\"></output>\r\n              </div>\r\n              <br />\r\n              {url ? <img src={url} id=\"imgPreview\" /> : \"\"}\r\n              <LabelInput\r\n                label=\"price\"\r\n                type=\"number\"\r\n                defaultValue=\"0\"\r\n                step=\"0.01\"\r\n                validation={validationRules.price}\r\n                data-cy=\"price_input\"\r\n              />\r\n              <button\r\n                id=\"submitButton\"\r\n                type=\"submit\"\r\n                className=\"btn btn-primary\"\r\n                data-cy=\"submit_button\"\r\n              >\r\n                Voeg toe\r\n              </button>\r\n            </form>\r\n          </FormProvider>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","C:\\Users\\robbe\\Documents\\HOGent\\'21-'22\\FrontEnd\\Opdracht\\Front-End-Opdracht\\webapp\\Front-end\\src\\components\\ItemList.jsx",[],"C:\\Users\\robbe\\Documents\\HOGent\\'21-'22\\FrontEnd\\Opdracht\\Front-End-Opdracht\\webapp\\Front-end\\src\\components\\Item.jsx",["237"],"import { FaTrash, FaShoppingCart } from \"react-icons/fa\";\r\nimport { ItemsContext } from \"../contexts/ItemsProvider\";\r\nimport { useOrders } from \"../contexts/OrdersProvider\";\r\nimport { useContext, useCallback } from \"react\";\r\nimport { useLocation } from \"react-router\";\r\nimport { useSession } from \"../contexts/AuthProvider\";\r\nimport \"../css/item.css\";\r\nimport { getItemWithId } from \"../api/items\";\r\nimport swal from \"sweetalert\";\r\n\r\n//Geeft een visuele voorstelling van het item.\r\n\r\nexport default function Item({\r\n  id,\r\n  title,\r\n  imagesrc,\r\n  type,\r\n  description,\r\n  price,\r\n}) {\r\n  const { deleteItem } = useContext(ItemsContext);\r\n\r\n  const { createOrUpdateOrder, getOrderWithUserId, itemsInOrder } = useOrders();\r\n\r\n  const { pathname } = useLocation();\r\n\r\n  const { isAuthed, user } = useSession();\r\n\r\n  let winkelkarItems = itemsInOrder;\r\n\r\n  const handleRemove = useCallback(async () => {\r\n    //Items verwijderen (adminrechten nodig)\r\n\r\n    swal({\r\n      title: \"Ben je zeker?\",\r\n      text: \"Dit item zal definitief verwijderd worden!\",\r\n      icon: \"warning\",\r\n      buttons: true,\r\n      dangerMode: true,\r\n    }).then(async (willDelete) => {\r\n      if (willDelete) {\r\n        try {\r\n          await deleteItem(id);\r\n          swal(\"Item is succesvol verwijderd\", {\r\n            icon: \"success\",\r\n          });\r\n        } catch (error) {\r\n          console.error(error);\r\n        }\r\n      }\r\n    });\r\n  }, [deleteItem, id]);\r\n\r\n  const addToCart = useCallback(async () => {\r\n    //Item toevoegen aan de winkelwagen\r\n\r\n    if (isAuthed) {\r\n      try {\r\n        swal(\"Toegevoegd!\", \"Item is toegevoegd aan uw winkelkar\", \"success\");\r\n        const winkelkarItem = await getItemWithId(id);\r\n        winkelkarItems.push(winkelkarItem);\r\n        const cartOrder = await getOrderWithUserId(user.id);\r\n        await createOrUpdateOrder({\r\n          id: cartOrder?.id,\r\n          userId: user.id,\r\n          items: JSON.stringify(winkelkarItems),\r\n        });\r\n      } catch (error) {\r\n        console.error(error);\r\n      }\r\n    } else {\r\n      swal(\r\n        \"Waarschuwing\",\r\n        \"U moet ingelogd zijn om items toe te voegen aan uw winkelkar.\",\r\n        \"warning\"\r\n      );\r\n    }\r\n  }, [isAuthed, getItemWithId, createOrUpdateOrder]);\r\n  return (\r\n    //html om item te tonen\r\n    <>\r\n      <div id=\"itemData\" data-cy=\"item\">\r\n        <img\r\n          className=\"card-img-top image-thumbnail itemImage\"\r\n          src={imagesrc}\r\n          alt={title}\r\n          id=\"itemImage\"\r\n        />\r\n\r\n        <div className=\"card-body\">\r\n          <div id=\"category\">{type.title}</div>\r\n          <div className=\"card-title\" id=\"itemName\">\r\n            <h3 data-cy=\"item_title\">{title}</h3>\r\n          </div>\r\n          <div className=\"card-text\" id=\"itemDescription\">\r\n            <p data-cy=\"item_description\">{description}</p>\r\n          </div>\r\n        </div>\r\n        <div className=\"card-footer\">\r\n          <div className=\"wcf-left\">\r\n            {pathname !== \"/items\" ? (\r\n              <button onClick={addToCart} data-cy=\"add_cartitem_button\">\r\n                <FaShoppingCart />\r\n              </button>\r\n            ) : (\r\n              \"\"\r\n            )}\r\n            {pathname === \"/items\" ? (\r\n              <button onClick={handleRemove} data-cy=\"item_remove_button\">\r\n                <FaTrash />\r\n              </button>\r\n            ) : (\r\n              \"\"\r\n            )}\r\n          </div>\r\n          <div className=\"wcf-right\">\r\n            <div className=\"price-tag\">€{price}</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","C:\\Users\\robbe\\Documents\\HOGent\\'21-'22\\FrontEnd\\Opdracht\\Front-End-Opdracht\\webapp\\Front-end\\src\\components\\LabelInput.jsx",[],"C:\\Users\\robbe\\Documents\\HOGent\\'21-'22\\FrontEnd\\Opdracht\\Front-End-Opdracht\\webapp\\Front-end\\src\\components\\LabelSelect.jsx",[],"C:\\Users\\robbe\\Documents\\HOGent\\'21-'22\\FrontEnd\\Opdracht\\Front-End-Opdracht\\webapp\\Front-end\\src\\hooks\\useFetch.js",[],["238","239"],"C:\\Users\\robbe\\Documents\\HOGent\\'21-'22\\FrontEnd\\Opdracht\\Front-End-Opdracht\\webapp\\Front-end\\src\\contexts\\ItemsProvider.js",[],"C:\\Users\\robbe\\Documents\\HOGent\\'21-'22\\FrontEnd\\Opdracht\\Front-End-Opdracht\\webapp\\Front-end\\src\\components\\Navigatie.jsx",[],"C:\\Users\\robbe\\Documents\\HOGent\\'21-'22\\FrontEnd\\Opdracht\\Front-End-Opdracht\\webapp\\Front-end\\src\\contexts\\TypesProvider.js",[],"C:\\Users\\robbe\\Documents\\HOGent\\'21-'22\\FrontEnd\\Opdracht\\Front-End-Opdracht\\webapp\\Front-end\\src\\pages\\Welkom.jsx",[],"C:\\Users\\robbe\\Documents\\HOGent\\'21-'22\\FrontEnd\\Opdracht\\Front-End-Opdracht\\webapp\\Front-end\\src\\pages\\ItemPage.jsx",[],"C:\\Users\\robbe\\Documents\\HOGent\\'21-'22\\FrontEnd\\Opdracht\\Front-End-Opdracht\\webapp\\Front-end\\src\\pages\\NotFoundPage.jsx",[],"C:\\Users\\robbe\\Documents\\HOGent\\'21-'22\\FrontEnd\\Opdracht\\Front-End-Opdracht\\webapp\\Front-end\\src\\components\\FileUploader.jsx",[],["240","241"],"C:\\Users\\robbe\\Documents\\HOGent\\'21-'22\\FrontEnd\\Opdracht\\Front-End-Opdracht\\webapp\\Front-end\\src\\pages\\WinkelkarPage.jsx",["242","243"],"import { useCallback, useEffect, useState } from \"react\";\r\nimport { useSession } from \"../contexts/AuthProvider\";\r\nimport { useOrders } from \"../contexts/OrdersProvider\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport \"../css/winkelkar.css\";\r\n\r\n//Winkelkar van de gebruiker\r\n//van hieruit kunnen bestelde items terug verwijderd worden\r\n//of besteld worden\r\n\r\nexport default function WinkelkarPage() {\r\n  const { user } = useSession();\r\n  const { getOrderWithUserId, createOrUpdateOrder } = useOrders();\r\n  const [items, setItems] = useState([]);\r\n  const [aantal, setAantal] = useState(0);\r\n\r\n  const retrieveItems = async () => {\r\n    //Bestelde items ophalen\r\n\r\n    const data = await getOrderWithUserId(user.id);\r\n    if (data) {\r\n      setItems(data.items);\r\n      setAantal(data.items.length);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      retrieveItems();\r\n    }\r\n  }, [user]);\r\n\r\n  const VerwijderItem = useCallback(\r\n    async (index) => {\r\n      const data = await getOrderWithUserId(user.id);\r\n      const items = data.items;\r\n      setItems(data.items);\r\n      items.splice(index, 1);\r\n      setAantal(items.length);\r\n      await createOrUpdateOrder({\r\n        id: data?.id,\r\n        userId: user.id,\r\n        items: JSON.stringify(items),\r\n      });\r\n    },\r\n    [setAantal, createOrUpdateOrder]\r\n  );\r\n\r\n  const berekenTotaal = useCallback(() => {\r\n    if (items) {\r\n      const totaal = items.reduce((acc, value) => acc + Number(value.price), 0);\r\n      return totaal.toFixed(2);\r\n    } else {\r\n      return 0;\r\n    }\r\n  }, [items]);\r\n\r\n  if (items.length === 0) return <h1>Uw winkelkar is momenteel nog leeg.</h1>;\r\n\r\n  return (\r\n    <>\r\n      <div id=\"winkelkarPage\">\r\n        <h1>Huidige bestelling: {aantal} item(s)</h1>\r\n        <p>Totaal: €{berekenTotaal()}</p>\r\n        <div>\r\n          <Link to={\"/bestelling\"}>\r\n            <button id=\"bestelBtn\" data-cy=\"bestel_btn\">\r\n              Bestellen\r\n            </button>\r\n          </Link>\r\n        </div>\r\n        <div className=\"containerWinkelwagen\">\r\n          {items\r\n            ? items.map((item, index) => {\r\n                return (\r\n                  <>\r\n                    <div className=\"gridItem\" data-cy=\"winkelkar_item\">\r\n                      <h2>{item.title}</h2>\r\n                      <img src={item.imagesrc} alt={item.title} />\r\n                      <div className=\"itemFooter\">\r\n                        <p>\r\n                          Prijs: €{item.price}\r\n                          <br />\r\n                          <button\r\n                            onClick={() => {\r\n                              VerwijderItem(index);\r\n                            }}\r\n                          >\r\n                            Verwijder\r\n                          </button>\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n                  </>\r\n                );\r\n              })\r\n            : \"\"}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","C:\\Users\\robbe\\Documents\\HOGent\\'21-'22\\FrontEnd\\Opdracht\\Front-End-Opdracht\\webapp\\Front-end\\src\\pages\\LogInPage.jsx",["244"],"import \"../css/login.css\";\r\nimport { useCallback, useEffect } from \"react\";\r\nimport { FormProvider, useForm } from \"react-hook-form\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useLogin, useSession, useRegister } from \"../contexts/AuthProvider\";\r\nimport swal from \"sweetalert\";\r\n\r\n//Toont login- en registerpagina\r\n//Aparte formulieren voor login en register\r\n\r\nexport default function LogInPage() {\r\n  const history = useHistory();\r\n  const { loading, error, isAuthed, setError } = useSession();\r\n  const login = useLogin();\r\n  const registerUser = useRegister();\r\n  const methods = useForm();\r\n  const methods2 = useForm();\r\n  const { handleSubmit, reset, register } = methods;\r\n  const {\r\n    handleSubmit: handleSubmit2,\r\n    reset: reset2,\r\n    register: register2,\r\n    getValues: getValues2,\r\n  } = methods2;\r\n\r\n  useEffect(() => {\r\n    if (isAuthed) {\r\n      history.replace(\"/\");\r\n    }\r\n    if (error) {\r\n      swal({\r\n        title: \"Error\",\r\n        text: error,\r\n        icon: \"error\",\r\n      });\r\n      setError(\"\");\r\n    }\r\n  }, [isAuthed, history, error]);\r\n\r\n  const handleLogin = useCallback(\r\n    async ({ email, password }) => {\r\n      try {\r\n        const success = await login(email, password);\r\n        if (success) {\r\n          history.replace(\"/\");\r\n        }\r\n      } catch (error) {\r\n        swal(\r\n          \"Error\",\r\n          \"Er is een fout opgetreden, probeert u het later opnieuw\",\r\n          \"error\"\r\n        );\r\n        console.error(error);\r\n      }\r\n    },\r\n    [login, history]\r\n  );\r\n\r\n  const handleRegister = useCallback(\r\n    async ({ name, email, password }) => {\r\n      try {\r\n        const success = await registerUser({\r\n          name,\r\n          email,\r\n          password,\r\n        });\r\n\r\n        if (success) {\r\n          // we can't come back to register\r\n          history.replace(\"/\");\r\n        }\r\n      } catch (error) {\r\n        console.log(error);\r\n        swal(\r\n          \"Error\",\r\n          \"Er is een fout opgetreden, probeert u het later opnieuw\",\r\n          \"error\"\r\n        );\r\n      }\r\n    },\r\n    [history, registerUser]\r\n  );\r\n\r\n  const handleCancel = useCallback(() => {\r\n    reset();\r\n  }, [reset]);\r\n\r\n  const handleCancel2 = useCallback(() => {\r\n    reset2();\r\n  }, [reset2]);\r\n\r\n  const handleClick = () => {\r\n    document.querySelector(\".cont\").classList.toggle(\"s--signup\");\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div id=\"loginform\">\r\n        <div className=\"cont\">\r\n          <FormProvider {...methods}>\r\n            <form key={1} onSubmit={handleSubmit(handleLogin)}>\r\n              <div className=\"form sign-in\">\r\n                <h2>Welkom terug!</h2>\r\n                <label htmlFor=\"email\">\r\n                  <span>Email</span>\r\n                  <input\r\n                    type=\"email\"\r\n                    {...register(\"email\")}\r\n                    required\r\n                    data-cy=\"email_input\"\r\n                  />\r\n                </label>\r\n                <label htmlFor=\"password\">\r\n                  <span>Wachtwoord</span>\r\n                  <input\r\n                    type=\"password\"\r\n                    {...register(\"password\")}\r\n                    required\r\n                    data-cy=\"password_input\"\r\n                  />\r\n                </label>\r\n                <button\r\n                  type=\"submit\"\r\n                  disabled={loading}\r\n                  className=\"submit\"\r\n                  data-cy=\"submit_btn\"\r\n                >\r\n                  Log In\r\n                </button>\r\n                <button type=\"reset\" className=\"submit\" onClick={handleCancel}>\r\n                  Annuleer\r\n                </button>\r\n              </div>\r\n            </form>\r\n          </FormProvider>\r\n          <div className=\"sub-cont\">\r\n            <div className=\"img\">\r\n              <div className=\"img__text m--up\">\r\n                <h2>Nieuw hier?</h2>\r\n                <p>\r\n                  Schrijf je in en ontdek een groot aantal nieuwe mogelijkheden!\r\n                </p>\r\n              </div>\r\n              <div className=\"img__text m--in\">\r\n                <h2>Een van ons?</h2>\r\n                <p>\r\n                  Als je al een account hebt, log dan in. We hebben je gemist!\r\n                </p>\r\n              </div>\r\n              <div className=\"img__btn\" onClick={handleClick}>\r\n                <span className=\"m--up\">Registreer</span>\r\n                <span className=\"m--in\">Log In</span>\r\n              </div>\r\n            </div>\r\n            <FormProvider {...methods2}>\r\n              <form key={2} onSubmit={handleSubmit2(handleRegister)}>\r\n                <div className=\"form sign-up\">\r\n                  <h2>Tijd om je thuis te voelen</h2>\r\n                  <label htmlFor=\"name\">\r\n                    <span>Naam</span>\r\n                    <input\r\n                      type=\"text\"\r\n                      {...register2(\"name\", {\r\n                        validate: {\r\n                          validName: (value) => {\r\n                            const naam = getValues2(\"name\");\r\n                            const reg = new RegExp(\r\n                              /^[a-zA-Z]+[ -_'a-zA-Z]*[a-zA-Z]+$/\r\n                            );\r\n                            if (!reg.test(naam)) {\r\n                              swal(\r\n                                \"Error\",\r\n                                \"Ongeldige gebruikersnaam\",\r\n                                \"error\"\r\n                              );\r\n                            }\r\n                            return reg.test(naam);\r\n                          },\r\n                        },\r\n                      })}\r\n                      required\r\n                    />\r\n                  </label>\r\n                  <label htmlFor=\"email\">\r\n                    <span>Email</span>\r\n                    <input type=\"email\" {...register2(\"email\")} required />\r\n                  </label>\r\n                  <label htmlFor=\"password\">\r\n                    <span>Wachtwoord</span>\r\n                    <input\r\n                      type=\"password\"\r\n                      {...register2(\"password\")}\r\n                      required\r\n                    />\r\n                  </label>\r\n                  <label htmlFor=\"confirmPassword\">\r\n                    <span>Bevestig wachtwoord</span>\r\n                    <input\r\n                      type=\"password\"\r\n                      {...register2(\"confirmPassword\", {\r\n                        validate: {\r\n                          notIdentical: (value) => {\r\n                            const password = getValues2(\"password\");\r\n                            if (password !== value) {\r\n                              swal(\r\n                                \"Error\",\r\n                                \"Wachtwoorden moeten hetzelfde zijn\",\r\n                                \"error\"\r\n                              );\r\n                            }\r\n                            return password === value ? null : \"\";\r\n                          },\r\n                        },\r\n                      })}\r\n                      required\r\n                    />\r\n                  </label>\r\n                  <button type=\"submit\" className=\"submit\">\r\n                    Registreer\r\n                  </button>\r\n                  <button\r\n                    type=\"reset\"\r\n                    className=\"submit\"\r\n                    onClick={handleCancel2}\r\n                  >\r\n                    Annuleer\r\n                  </button>\r\n                </div>\r\n              </form>\r\n            </FormProvider>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","C:\\Users\\robbe\\Documents\\HOGent\\'21-'22\\FrontEnd\\Opdracht\\Front-End-Opdracht\\webapp\\Front-end\\src\\contexts\\AuthProvider.jsx",[],"C:\\Users\\robbe\\Documents\\HOGent\\'21-'22\\FrontEnd\\Opdracht\\Front-End-Opdracht\\webapp\\Front-end\\src\\api\\items.js",[],"C:\\Users\\robbe\\Documents\\HOGent\\'21-'22\\FrontEnd\\Opdracht\\Front-End-Opdracht\\webapp\\Front-end\\src\\api\\types.js",[],"C:\\Users\\robbe\\Documents\\HOGent\\'21-'22\\FrontEnd\\Opdracht\\Front-End-Opdracht\\webapp\\Front-end\\src\\api\\users.js",[],"C:\\Users\\robbe\\Documents\\HOGent\\'21-'22\\FrontEnd\\Opdracht\\Front-End-Opdracht\\webapp\\Front-end\\src\\api\\index.js",[],"C:\\Users\\robbe\\Documents\\HOGent\\'21-'22\\FrontEnd\\Opdracht\\Front-End-Opdracht\\webapp\\Front-end\\src\\components\\PrivateRoute.jsx",[],"C:\\Users\\robbe\\Documents\\HOGent\\'21-'22\\FrontEnd\\Opdracht\\Front-End-Opdracht\\webapp\\Front-end\\src\\firebase\\index.js",[],"C:\\Users\\robbe\\Documents\\HOGent\\'21-'22\\FrontEnd\\Opdracht\\Front-End-Opdracht\\webapp\\Front-end\\src\\contexts\\OrdersProvider.jsx",[],"C:\\Users\\robbe\\Documents\\HOGent\\'21-'22\\FrontEnd\\Opdracht\\Front-End-Opdracht\\webapp\\Front-end\\src\\api\\orders.js",[],"C:\\Users\\robbe\\Documents\\HOGent\\'21-'22\\FrontEnd\\Opdracht\\Front-End-Opdracht\\webapp\\Front-end\\src\\pages\\BestellingPage.jsx",["245","246"],"import { useSession } from \"../contexts/AuthProvider\";\r\nimport { useOrders } from \"../contexts/OrdersProvider\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { FormProvider, useForm } from \"react-hook-form\";\r\nimport LabelInput from \"../components/LabelInput\";\r\nimport { useEffect, useState, useCallback } from \"react\";\r\nimport { send } from \"emailjs-com\";\r\nimport config from \"../config.json\";\r\nimport swal from \"@sweetalert/with-react\";\r\n\r\nimport \"../css/bestelling.css\";\r\n\r\n//Toont de bestelling van de gebruiker + formulier voor verdere gegevens\r\n\r\nconst validationRules = {\r\n  adres: { required: \"Dit veld is vereist\" },\r\n  gemeente: { required: \"Dit veld is vereist\" },\r\n  postcode: {\r\n    valueAsNumber: true,\r\n    required: \"Dit veld is vereist\",\r\n    min: { value: 1000, message: \"Minimum 1000\" },\r\n    max: { value: 9999, message: \"Maximum 9999\" },\r\n  },\r\n};\r\n\r\nconst EMAIL_SERVICE_TOKEN = config.email_service_token;\r\nconst EMAIL_TEMPLATE_TOKEN = config.email_template_token;\r\nconst EMAIL_USER_TOKEN = config.email_user_token;\r\n\r\nexport default function BestellingPage() {\r\n  const history = useHistory();\r\n  const { user } = useSession();\r\n  const { currentOrder, deleteOrder } = useOrders();\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    reset,\r\n    formState: { errors },\r\n    setValue,\r\n  } = useForm();\r\n  const [testMap, setMap] = useState(new Map());\r\n  const [arrayUniqueById, setArr] = useState([]);\r\n\r\n  const reduceOrders = useCallback(() => {\r\n    //Per item mappen we hoeveel ervan besteld zijn\r\n\r\n    const hulp = currentOrder.items;\r\n    let testMap2 = new Map();\r\n    if (hulp) {\r\n      hulp.forEach((item) => {\r\n        if (!testMap2.get(item.id)) {\r\n          testMap2.set(item.id, 1);\r\n        } else {\r\n          testMap2.set(item.id, testMap2.get(item.id) + 1);\r\n        }\r\n      });\r\n    }\r\n    setMap(testMap2);\r\n    //nieuwe map wordt weer omgezet naar een array om vervolgens\r\n    //de array-methode map te kunnen gebruiken\r\n\r\n    setArr([\r\n      ...new Map(\r\n        currentOrder?.items?.map((item) => [item[\"id\"], item])\r\n      ).values(),\r\n    ]);\r\n  }, [currentOrder]);\r\n\r\n  const berekenTotaal = useCallback(() => {\r\n    //Totaal bedrag van de bestelling berekenen\r\n\r\n    if (currentOrder?.items) {\r\n      const totaal = currentOrder.items.reduce(\r\n        (acc, value) => acc + Number(value.price),\r\n        0\r\n      );\r\n      return totaal.toFixed(2);\r\n    } else {\r\n      return 0;\r\n    }\r\n  }, [currentOrder]);\r\n\r\n  const sendEmail = useCallback(() => {\r\n    //Bevestigingsmail naar de user sturen\r\n\r\n    send(\r\n      EMAIL_SERVICE_TOKEN,\r\n      EMAIL_TEMPLATE_TOKEN,\r\n      {\r\n        from_name: \"Robbert Naessens\",\r\n        to_name: user.name,\r\n        send_to: user.email,\r\n        message:\r\n          \"Dit is een testmessage. De bestelling werd succesvol ontvangen\",\r\n        reply_to: \"robbertnaessens@gmail.com\",\r\n      },\r\n      EMAIL_USER_TOKEN\r\n    )\r\n      .then((response) => {\r\n        console.log(\"SUCCESS!\", response.status, response.text);\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"FAILED...\", err);\r\n      });\r\n  }, [user]);\r\n\r\n  const onSubmit = useCallback(() => {\r\n    //Effectief bestellen\r\n\r\n    swal({\r\n      title: \"Laatste check\",\r\n      text: \"Zijn al uw gegevens correct?\",\r\n      icon: \"warning\",\r\n      buttons: [\"Annuleer\", \"Bestel!\"],\r\n    }).then(async (willOrder) => {\r\n      if (willOrder) {\r\n        try {\r\n          swal({\r\n            title: \"Gelukt\",\r\n            content: (\r\n              <div>\r\n                <b>Uw bestelling werd goed ontvangen!</b>\r\n                <br />U ontvangt binnen enkele minuten een mail met bevestiging\r\n                en verdere instructies.\r\n              </div>\r\n            ),\r\n            icon: \"success\",\r\n          });\r\n          //sendEmail();\r\n          deleteOrder(currentOrder.id);\r\n          history.replace(\"/\");\r\n        } catch (error) {\r\n          console.error(error);\r\n        }\r\n      }\r\n    });\r\n  }, [history, user, currentOrder, deleteOrder]);\r\n\r\n  useEffect(() => {\r\n    reduceOrders();\r\n    if (user) {\r\n      //Naam en email van de gebruiker automatisch invullen in formulier\r\n\r\n      setValue(\"naam\", user.name);\r\n      setValue(\"email\", user.email);\r\n    } else {\r\n      reset();\r\n    }\r\n  }, [user, reset, setValue, reduceOrders]);\r\n\r\n  return (\r\n    <div id=\"bestelPage\">\r\n      <h1>Uw bestelde items</h1>\r\n      <p>Totaal: €{berekenTotaal()}</p>\r\n      <div className=\"table-wrapper\">\r\n        <table className=\"fl-table\">\r\n          <thead>\r\n            <tr>\r\n              <th>Item</th>\r\n              <th>Amount</th>\r\n              <th>Price</th>\r\n              <th></th>\r\n            </tr>\r\n          </thead>\r\n          <tbody data-cy=\"bestelling_tabel\">\r\n            {arrayUniqueById?.map((value) => {\r\n              return (\r\n                <tr>\r\n                  <td>{value.title}</td>\r\n                  <td>x{testMap.get(value.id)}</td>\r\n                  <td>€{testMap.get(value.id) * value.price}</td>\r\n                  <td>\r\n                    <button\r\n                      onClick={() => {\r\n                        return swal({\r\n                          title: value.title,\r\n                          content: (\r\n                            <img alt={value.title} src={value.imagesrc}></img>\r\n                          ),\r\n                        });\r\n                      }}\r\n                    >\r\n                      &#x1F50D;\r\n                    </button>\r\n                  </td>\r\n                </tr>\r\n              );\r\n            })}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n      <h1>Uw gegevens</h1>\r\n      <div className=\"form-wrapper\">\r\n        <FormProvider\r\n          handleSubmit={handleSubmit}\r\n          errors={errors}\r\n          register={register}\r\n        >\r\n          <form onSubmit={handleSubmit(onSubmit)}>\r\n            <LabelInput\r\n              label=\"naam\"\r\n              type=\"text\"\r\n              disabled\r\n              data-cy=\"bestelling_naam\"\r\n            />\r\n            <LabelInput\r\n              label=\"email\"\r\n              type=\"text\"\r\n              disabled\r\n              data-cy=\"bestelling_email\"\r\n            />\r\n            <LabelInput\r\n              label=\"adres\"\r\n              type=\"text\"\r\n              validation={validationRules.adres}\r\n              data-cy=\"bestelling_adres\"\r\n            />\r\n            <LabelInput\r\n              label=\"postcode\"\r\n              type=\"number\"\r\n              validation={validationRules.postcode}\r\n              data-cy=\"bestelling_postcode\"\r\n            />\r\n            <LabelInput\r\n              label=\"gemeente\"\r\n              type=\"text\"\r\n              validation={validationRules.gemeente}\r\n              data-cy=\"bestelling_gemeente\"\r\n            />\r\n            <button type=\"submit\" data-cy=\"bestelling_submit\">\r\n              Bestel\r\n            </button>\r\n          </form>\r\n        </FormProvider>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","C:\\Users\\robbe\\Documents\\GitHub\\webapp-frontend\\src\\index.js",[],"C:\\Users\\robbe\\Documents\\GitHub\\webapp-frontend\\src\\reportWebVitals.js",[],"C:\\Users\\robbe\\Documents\\GitHub\\webapp-frontend\\src\\App.jsx",[],"C:\\Users\\robbe\\Documents\\GitHub\\webapp-frontend\\src\\contexts\\ItemsProvider.js",[],"C:\\Users\\robbe\\Documents\\GitHub\\webapp-frontend\\src\\contexts\\TypesProvider.js",[],"C:\\Users\\robbe\\Documents\\GitHub\\webapp-frontend\\src\\contexts\\AuthProvider.jsx",[],"C:\\Users\\robbe\\Documents\\GitHub\\webapp-frontend\\src\\contexts\\OrdersProvider.jsx",[],"C:\\Users\\robbe\\Documents\\GitHub\\webapp-frontend\\src\\components\\Navigatie.jsx",[],"C:\\Users\\robbe\\Documents\\GitHub\\webapp-frontend\\src\\api\\types.js",[],"C:\\Users\\robbe\\Documents\\GitHub\\webapp-frontend\\src\\api\\users.js",[],"C:\\Users\\robbe\\Documents\\GitHub\\webapp-frontend\\src\\api\\orders.js",[],"C:\\Users\\robbe\\Documents\\GitHub\\webapp-frontend\\src\\api\\items.js",[],"C:\\Users\\robbe\\Documents\\GitHub\\webapp-frontend\\src\\components\\ItemList.jsx",[],"C:\\Users\\robbe\\Documents\\GitHub\\webapp-frontend\\src\\components\\ItemForm.jsx",["247","248","249","250"],"C:\\Users\\robbe\\Documents\\GitHub\\webapp-frontend\\src\\components\\PrivateRoute.jsx",[],"C:\\Users\\robbe\\Documents\\GitHub\\webapp-frontend\\src\\pages\\NotFoundPage.jsx",[],"C:\\Users\\robbe\\Documents\\GitHub\\webapp-frontend\\src\\pages\\ItemPage.jsx",[],"C:\\Users\\robbe\\Documents\\GitHub\\webapp-frontend\\src\\pages\\Welkom.jsx",[],"C:\\Users\\robbe\\Documents\\GitHub\\webapp-frontend\\src\\pages\\BestellingPage.jsx",["251","252"],"C:\\Users\\robbe\\Documents\\GitHub\\webapp-frontend\\src\\pages\\WinkelkarPage.jsx",["253","254"],"C:\\Users\\robbe\\Documents\\GitHub\\webapp-frontend\\src\\pages\\LogInPage.jsx",["255"],"C:\\Users\\robbe\\Documents\\GitHub\\webapp-frontend\\src\\api\\index.js",[],"C:\\Users\\robbe\\Documents\\GitHub\\webapp-frontend\\src\\components\\Item.jsx",["256"],"C:\\Users\\robbe\\Documents\\GitHub\\webapp-frontend\\src\\components\\LabelInput.jsx",[],"C:\\Users\\robbe\\Documents\\GitHub\\webapp-frontend\\src\\components\\LabelSelect.jsx",[],"C:\\Users\\robbe\\Documents\\GitHub\\webapp-frontend\\src\\firebase\\index.js",[],{"ruleId":"257","replacedBy":"258"},{"ruleId":"259","replacedBy":"260"},{"ruleId":"261","severity":1,"message":"262","line":7,"column":10,"nodeType":"263","messageId":"264","endLine":7,"endColumn":19},{"ruleId":"265","severity":1,"message":"266","line":89,"column":5,"nodeType":"267","endLine":89,"endColumn":71,"suggestions":"268"},{"ruleId":"265","severity":1,"message":"269","line":123,"column":28,"nodeType":"263","endLine":123,"endColumn":39},{"ruleId":"270","severity":1,"message":"271","line":176,"column":22,"nodeType":"272","endLine":176,"endColumn":55},{"ruleId":"265","severity":1,"message":"273","line":78,"column":6,"nodeType":"267","endLine":78,"endColumn":52,"suggestions":"274"},{"ruleId":"257","replacedBy":"275"},{"ruleId":"259","replacedBy":"276"},{"ruleId":"257","replacedBy":"277"},{"ruleId":"259","replacedBy":"278"},{"ruleId":"265","severity":1,"message":"279","line":32,"column":6,"nodeType":"267","endLine":32,"endColumn":12,"suggestions":"280"},{"ruleId":"265","severity":1,"message":"281","line":47,"column":5,"nodeType":"267","endLine":47,"endColumn":37,"suggestions":"282"},{"ruleId":"265","severity":1,"message":"283","line":38,"column":6,"nodeType":"267","endLine":38,"endColumn":32,"suggestions":"284"},{"ruleId":"261","severity":1,"message":"285","line":83,"column":9,"nodeType":"263","messageId":"264","endLine":83,"endColumn":18},{"ruleId":"265","severity":1,"message":"286","line":137,"column":6,"nodeType":"267","endLine":137,"endColumn":48,"suggestions":"287"},{"ruleId":"261","severity":1,"message":"262","line":7,"column":10,"nodeType":"263","messageId":"264","endLine":7,"endColumn":19},{"ruleId":"265","severity":1,"message":"266","line":89,"column":5,"nodeType":"267","endLine":89,"endColumn":71,"suggestions":"288"},{"ruleId":"265","severity":1,"message":"269","line":123,"column":28,"nodeType":"263","endLine":123,"endColumn":39},{"ruleId":"270","severity":1,"message":"271","line":176,"column":22,"nodeType":"272","endLine":176,"endColumn":55},{"ruleId":"261","severity":1,"message":"285","line":83,"column":9,"nodeType":"263","messageId":"264","endLine":83,"endColumn":18},{"ruleId":"265","severity":1,"message":"286","line":137,"column":6,"nodeType":"267","endLine":137,"endColumn":48,"suggestions":"289"},{"ruleId":"265","severity":1,"message":"279","line":32,"column":6,"nodeType":"267","endLine":32,"endColumn":12,"suggestions":"290"},{"ruleId":"265","severity":1,"message":"281","line":47,"column":5,"nodeType":"267","endLine":47,"endColumn":37,"suggestions":"291"},{"ruleId":"265","severity":1,"message":"283","line":38,"column":6,"nodeType":"267","endLine":38,"endColumn":32,"suggestions":"292"},{"ruleId":"265","severity":1,"message":"273","line":78,"column":6,"nodeType":"267","endLine":78,"endColumn":52,"suggestions":"293"},"no-native-reassign",["294"],"no-negated-in-lhs",["295"],"no-unused-vars","'useParams' is defined but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useCallback has a missing dependency: 'laatsteUrl'. Either include it or remove the dependency array.","ArrayExpression",["296"],"Assignments to the 'laatsteUrl' variable from inside React Hook useCallback will be lost after each render. To preserve the value over time, store it in a useRef Hook and keep the mutable value in the '.current' property. Otherwise, you can move this variable directly inside useCallback.","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","React Hook useCallback has missing dependencies: 'getOrderWithUserId', 'id', 'user.id', and 'winkelkarItems'. Either include them or remove the dependency array. Outer scope values like 'getItemWithId' aren't valid dependencies because mutating them doesn't re-render the component.",["297"],["294"],["295"],["294"],["295"],"React Hook useEffect has a missing dependency: 'retrieveItems'. Either include it or remove the dependency array.",["298"],"React Hook useCallback has missing dependencies: 'getOrderWithUserId' and 'user.id'. Either include them or remove the dependency array.",["299"],"React Hook useEffect has a missing dependency: 'setError'. Either include it or remove the dependency array.",["300"],"'sendEmail' is assigned a value but never used.","React Hook useCallback has an unnecessary dependency: 'user'. Either exclude it or remove the dependency array.",["301"],["302"],["303"],["304"],["305"],["306"],["307"],"no-global-assign","no-unsafe-negation",{"desc":"308","fix":"309"},{"desc":"310","fix":"311"},{"desc":"312","fix":"313"},{"desc":"314","fix":"315"},{"desc":"316","fix":"317"},{"desc":"318","fix":"319"},{"desc":"308","fix":"320"},{"desc":"318","fix":"321"},{"desc":"312","fix":"322"},{"desc":"314","fix":"323"},{"desc":"316","fix":"324"},{"desc":"310","fix":"325"},"Update the dependencies array to be: [currentItem, createOrUpdateItem, laatsteUrl, types, setItemToUpdate, history]",{"range":"326","text":"327"},"Update the dependencies array to be: [isAuthed, id, winkelkarItems, getOrderWithUserId, user.id, createOrUpdateOrder]",{"range":"328","text":"329"},"Update the dependencies array to be: [retrieveItems, user]",{"range":"330","text":"331"},"Update the dependencies array to be: [getOrderWithUserId, user.id, createOrUpdateOrder]",{"range":"332","text":"333"},"Update the dependencies array to be: [isAuthed, history, error, setError]",{"range":"334","text":"335"},"Update the dependencies array to be: [history, currentOrder, deleteOrder]",{"range":"336","text":"337"},{"range":"338","text":"327"},{"range":"339","text":"337"},{"range":"340","text":"331"},{"range":"341","text":"333"},{"range":"342","text":"335"},{"range":"343","text":"329"},[2916,2982],"[currentItem, createOrUpdateItem, laatsteUrl, types, setItemToUpdate, history]",[2201,2247],"[isAuthed, id, winkelkarItems, getOrderWithUserId, user.id, createOrUpdateOrder]",[894,900],"[retrieveItems, user]",[1294,1326],"[getOrderWithUserId, user.id, createOrUpdateOrder]",[1059,1085],"[isAuthed, history, error, setError]",[3965,4007],"[history, currentOrder, deleteOrder]",[2916,2982],[3965,4007],[894,900],[1294,1326],[1059,1085],[2201,2247]]